# this has been moved into UIAdapter to avoid circular imports