
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/DTD/loose.dtd">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>BigWorld Technology Client Release Notes</title><link rel="stylesheet" href="generated_html/css/bigworld.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.72.0"><script type="text/javascript" src="bigworld.js"></script></head><body onLoad="loader();"><div id="bigworld-header"><img src="bigworld_logo.gif" id="bwLogo" alt="bw logo"></div><div id="content"><div class="book" lang="en"><div class="titlepage"><div><div><h1 class="title"><a name="Client_Release_Notes"></a>BigWorld Technology Client Release Notes</h1></div><div><p class="releaseinfo">BigWorld Technology 1.9.1. Released 2008.</p></div><div><p class="copyright">Copyright &copy; 1999-2008 BigWorld Pty Ltd. All rights reserved. </p></div><div><div class="legalnotice"><a name="d0e17"></a><p>This document is proprietary commercial in confidence and access
  is restricted to authorised users. This document is protected by
  copyright laws of Australia, other countries and international treaties.
  Unauthorised use, reproduction or distribution of this document, or any
  portion of this document, may result in the imposition of civil and
  criminal penalties as provided by law.</p></div></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="article"><a href="#d0e20">BigWorld Technology 1.9.1 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e654">BigWorld Technology 1.9.0.4 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e670">BigWorld Technology 1.9.0.3 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e711">BigWorld Technology 1.9.0.2 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e724">BigWorld Technology 1.9.0.1 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e744">BigWorld Technology 1.9.0 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e1760">BigWorld Technology 1.8.6.6 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e1780">BigWorld Technology 1.8.6.5 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e1787">BigWorld Technology 1.8.6.4 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e1800">BigWorld Technology 1.8.6.3 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e1805">BigWorld Technology 1.8.6.2 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e1810">BigWorld Technology 1.8.6.1 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e1820">BigWorld Technology 1.8.6 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e1872">BigWorld Technology 1.8.5 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e2006">BigWorld Technology 1.8.4.2 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e2022">BigWorld Technology 1.8.4.1 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e2038">BigWorld Technology 1.8.4 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e2211">BigWorld Technology 1.8.3.5 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e2221">BigWorld Technology 1.8.3.3 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e2237">BigWorld Technology 1.8.3.2 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e2250">BigWorld Technology 1.8.3.1 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e2260">BigWorld Technology 1.8.3 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e2423">BigWorld Technology 1.8.2.4 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e2467">BigWorld Technology 1.8.2.3 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e2483">BigWorld Technology 1.8.2.2 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e2493">BigWorld Technology 1.8.2.1 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e2524">BigWorld Technology 1.8.2 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e2826">BigWorld Technology 1.8.1 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e3096">BigWorld Technology 1.8 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e5166">BigWorld Technology 1.7.2 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e5250">BigWorld Technology 1.7.1 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e5488">BigWorld Technology 1.7 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e6538">BigWorld Technology 1.6.4 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e6551">BigWorld Technology 1.6.3 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e6576">BigWorld Technology 1.6.2 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e6586">BigWorld Technology 1.6.1 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e6731">BigWorld Technology 1.6 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e6836">BigWorld Technology 1.5 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e6951">BigWorld Technology 1.4.1 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e6973">BigWorld Technology 1.4 Client Release Notes</a></span></dt><dt><span class="article"><a href="#d0e7074">BigWorld Technology 1.3 Client Release Notes</a></span></dt></dl></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e20"></a>BigWorld Technology 1.9.1 Client Release Notes</h2></div></div><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e23"></a>1.&nbsp;Overview</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>BigWorld Technology 1.9.1 is the latest version of the BigWorld
        Technology engine. This version should allow customers to develop and
        release their games and is considered a feature complete, fully tested
        version for the BigWorld 1.9 series.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e30"></a>2.&nbsp;Executive Summary</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Multiple performance related issues have been fixed in this
        version providing a 10%-20% performance increase compared to the 1.9.0
        version</p></li><li><p>FantasyDemo now has a new UI. This UI includes an Action Bar,
        multiple dialogs and a minimap. This UI is currently implemented as
        example code, it will become a supported fully documented API in a
        future release.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e40"></a>3.&nbsp;New Features</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Added the onChangeCameraSpace personality script notification
        method. Please see the client Python API for full details.</p></li><li><p>The main thread affinity of WorldEditor, ModelEditor and
        Fantasydemo can now be configured in their respective configuration
        files ( <code class="code"> options.xml </code> for WorldEditor and ModelEditor,
        <code class="code"> preferences.xml </code> for Fantasydemo)</p></li><li><p><code class="code"> BWResource::appDataDirectory( company, product ) </code>
        has been added, to create and return the path to an Application Data
        directory for storing user-specific application preferences. This is
        CSIDL_APPDATA from section 4.2 of Microsoft's Data and Settings
        Management Requirements.</p></li><li><p><code class="code"> BWResource::appCompanyName() </code> and <code class="code">
        BWResource::appProductName() </code> have been added to return the
        appropriate string from the current locale's vesion of the currently
        executing program's version resource.</p></li><li><p>The Consumer build of Fantasydemo now stores its <code class="code">
        preferences.xml </code> in the <code class="code"> CSIDL_APPDATA </code> directory,
        unless a compile-time flag is set to override it. This will allow
        Fantasydemo to be run from the Program Files folder under Windows
        Vista without requiring administrator privileges.</p></li><li><p>Managed directx resources can now be preloaded into videomemory
        using the method <code class="code">RenderContext::addPreloadResource</code>. This
        method adds the resources to the list and the render context preloads
        a few resources from this list every frame.</p></li><li><p>The BigWorld Evaluation suite must be installed and run as an
        Administrator user on Windows Vista.</p></li><li><p>When using Umbra some types of chunk items render with a depth
        only pass. This usually improves performance, but not in every case.
        Specifically in scenes with little overdraw and/or simple pixel
        shaders the overhead of the depth only pass may be greater than the
        benefit. The depth only pass can be controlled using the <code class="code">
        "Render/Umbra/depthOnlyPass"</code> watcher. The default is
        <code class="code">true</code>.</p></li><li><p>Added new shaders lightonly_uvtransform2_alpha.fx and
        lightonly_uvtransform2_add.fx</p></li><li><p> SpeedTree now has a quality setting. </p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e102"></a>4.&nbsp;Changed Features</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>The wind now affects the flora and (dual)_cloud_layer sky boxes.
        You may have to go back to your flora.xml file and tweak the 'flex'
        value of your flora visuals to suit. You may also have to re-edit your
        skyboxes as the Vector2 windSpeed/direction has been replaced with a
        single windSpeed float (the direction is taken from the weather's wind
        settings.)</p></li><li><p>BigWorld.loadResourceListBG() has been modified with priority
        loading so higher priority resources will be loaded before lower
        priority. (see python documentation for more info)</p></li><li><p>Added a "wrap" option to the Barrier Particle System
        Action.</p></li><li><p>Blooming on shader 2 and above cards no longer require a
        full-sized intermediate render target. This greatly reduces its memory
        footprint, with the only visible change being that it will now miss
        blooming 1-pixel sized regions.</p></li><li><p>Bloom settings are now accessible via python, see the client
        Python API for details on the BigWorld.bloomController and
        BigWorld.bloomColourAttenuation functions.</p></li><li><p>The constructor for AvatarFilter and all subclasses of
        AvatarFilter now take in an optional AvatarFilter to copy from to
        allow for a smooth transition when an entity changes to a new
        filter.</p></li><li><p>Removed TERRAIN_SPECULAR_ENABLE shader macro, cutting the number
        of required shader compilation combinations in half. This macro was
        only being used in the old terrain, this is now controlled via the
        CLASSIC_TERRAIN_QUALITY graphics setting.</p></li><li><p>Refactored <code class="code"> EffectMaterial </code> class, it now only
        contains one <code class="code"> ManagedEffect </code> . This functionality was
        superceded by multiple techniques in a .fx file.</p></li><li><p>Moved <code class="code"> EffectManager </code> and <code class="code"> EffectIncludes
        </code> classes into separate source files.</p></li><li><p>Moved effect initialization queue from <code class="code"> EffectMaterial
        </code> to <code class="code"> EffectManager </code> .</p></li><li><p>Graph GUI Component now draws all 4 components of the
        Vector4Provider input.</p></li><li><p>BackBuffer is now exposed as an automatic effect
        variable.</p></li><li><p>The ActionMatcher now stops the currently matched action when it
        is decoupled. This was done because any matched action that is looped
        will continously play and blend with other actions. If you want to
        recreate this behaviour you should decouple the ActionMatcher and
        explicity call the action you want.</p></li><li><p>The ActionMatcher now has an option to use the entity's model
        instead of the owner's model for checking movement / rotations. This
        can be used to apply the action matcher to models attached to an
        entity.</p></li><li><p>PyModel now has an option to call move on attached objects. Move
        is used to rev motors. In particular, this allows the action matcher
        to apply to models attached to other models.</p></li><li><p>Improved the camera flythroughs to avoid bumpiness and to use
        the camera directions specified through WorldEditor. They now use a
        Catmull-Rom spline for their path and direction.</p></li><li><p><code class="code">MF_ASSERT_DEV( exp )</code> has been removed from client
        release configurations. It still remains in all
        <code class="code">MF_SERVER</code>, <code class="code">EDITOR_ENABLED</code> configurations,
        and for non-release client configurations (Debug, Hybrid).</p></li><li><p>The function prototype for Filter::input and
        Filter::getLastInput have changed, they now take posError as an
        argument (this represents the the amount of uncertainity of the
        position parameter.)</p></li><li><p><code class="code">BigWorld.connect</code>'s callback status code
        <code class="code">'LOGIN_REJECTED_BASEAPPMGR_NOT_READY'</code> has been renamed
        <code class="code">'LOGIN_REJECTED_SERVER_NOT_READY'</code>. This code will be
        returned if a login is attempted before the server has finished
        initialising its components i.e. before script-driven initialisation
        has even begun.</p></li><li><p><code class="code">Moo::RenderContext::addToPrimitiveCount</code>,
        <code class="code">Moo::RenderContext::addToPrimitiveGroupCount</code> and related
        methods have been deprecated. These methods were removed as the draw
        calls and primitive counts are profiled in the calls to the variations
        of the method <code class="code">Moo::RenderContext::drawPrimitive</code></p></li><li><p>The SpeedTree integration has been updated to use version
        4.2.</p></li><li><p>Added maximumSlope to physics, used by AvatarStylePhysics.
        Disallows movement into any area that does not have at least one
        surface less than the allowable slope amount.</p></li><li><p>Added SimpleGUIComponent.horizontalPositionMode and
        SimplyGUIComponent.verticalPositionMode properties to control how the
        position of a component is interpreted (e.g. whether they are defined
        in pixel or clip coordinates). See the Python API documentation for
        SimpleGUIComponent.position for details.</p></li><li><p>SimpleGUIComponent.widthRelative and
        SimplyGUIComponent.heightRelative have been deprecated and replaced
        with widthMode and heightMode. See the documentation for
        SimpleGUIComponent.width and SimpleGUIComponent.height to see how
        these new modes affect how the size of the component is interpreted.
        For existing .gui files, you can use the AssetProcessor to
        automatically convert to the new size modes
        (DeprecatedGuiSizeModeFix).</p></li><li><p>Added screenToLocal and localToScreen helper methods to the
        SimpleGUIComponent class to ease coordinate conversions.</p></li><li><p>It is now possible to override the screen resolution that the
        GUI uses to perform calculations using GUI.setResolutionOverride. This
        is useful for scaling UI's defined in PIXEL coordinates.</p></li><li><p>All GUI components now have the pixelSnap setting (was
        previously only available on text components). This is now implemented
        at the vertex shader level by snapping the vertices to the nearest
        pixel boundary. This is useful when trying to achieve 1-1 pixel
        mapping between GUI artwork and the screen. Pixel snapping is enabled
        by default, so be aware of this setting if you are using GUI
        attachments in the 3D scene.</p></li><li><p>All GUI components now default to the "POINT" filter type for
        newly created components, rather than defaulting to "LINEAR".</p></li><li><p>Added TextGUIComponent.stringDimensions, which returns both the
        width and height of the given string in pixels.</p></li><li><p>Added ability to preload sound banks as specified in the
        <code class="code">engine_config.xml</code> file.</p></li><li><p>Extra functionality has been added to the Python Tracker to
        allow for smooth blending of quick node angle changes. Please see the
        client Python API for more details on angularThreshold and
        angularHalflife in BaseNodeInfo object.</p></li><li><p>Increased the fixed frame time when profiling when using either
        <code class="code">BigWorld.runSoakTest</code> or
        <code class="code">BigWorld.runProfile</code>.</p></li><li><p>Extra optional parameter have been added to
        <code class="code">BigWorld.runProfile</code> in order to specify the number of
        runs to perform and set the csv output file path name root.</p></li><li><p>PyTextureProvider.width and PyTextureProvider.width have been
        added to give read-only access to the width and height of the
        referenced texture.</p></li><li><p>Removed legacy definition PRESERVE_V18X_DISCONNECTED from
        bigworld/src/client/entity_manager.hpp. This macro allowed entity
        manager to clear all server spaces and entities when disconnected.
        This behaviour should now be done via python scripts using
        BigWorld.resetEntityManager and BigWorld.clearAllSpaces (please refer
        to python documentation for more information)</p></li><li><p>Added load timing functionality to FantasyDemo. Example usage:
        run fantasydemo.exe with "-sa loadtimer -sa spaces/highlands" to write
        results to load_timers.csv. This allows users to time loading a space
        to far plane from command line and could even be part of an automated
        test. </p></li><li><p>Added the following debug watchers:</p><p><code class="code"> Client Settings/Entity Filter </code>, which enables or
        disables entity position historical filtering.</p><p><code class="code"> Memory/TextureManagerReckoningFrame </code>, which is the
        amount of texture being used by textures in the last frame.</p><p><code class="code"> Render/FPSAverage </code>, which is the frames-per-second
        running average for the last 50 frames.</p><p><code class="code"> Chunks/Loaded Chunks </code>, which is the number of
        loaded chunks.</p><p><code class="code"> Render/Draw Calls </code>, which is the number of
        DrawCalls of the previous frame.</p><p><code class="code"> Render/Primitives </code>, which is the number of
        Primitives drawn in the previous frame.</p></li><li><p>Added initial health levels for the creatures. This is
        configurable through editing
        "scripts/common/GameData/CreatureData.py". The table is called
        healthTable. The young striff was set to 50 health and both the crab
        and the chicken set to 25.</p></li><li><p>Added functionality to auto-detect graphics settings. The
        graphics settings and detection criteria are defined in xml. See the
        <span class="literal">Client Programming Guide</span> chapter
        <span class="literal">9.2.1</span> for more details.</p></li><li><p>Added a faceCamera option to GuiAttachment. An example usage of
        this is to attach a text label above a player's head, and have the
        text label drawn in 3D space, be occluded by the scene and get larger
        or smaller based on distance to the camera. Please refer to python
        documentation for more information.</p></li><li><p>SimpleGUIComponent.reSort now also updates the draw order
        of that component and its children without needing to call
        GUI.reSort. C++ subclasses of SimpleGUIComponent that specialise
        calcDrawOrder need to instead specialise calcDrawOrderRecursively.
        </p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e318"></a>5.&nbsp;Bug Fixes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Fixed a bug where Python timer callbacks were not guaranteed to
        be called in the order that should have (some callbacks could have
        been skipped on the frame they should have happend and delayed until a
        future frame). It now also guarantees that timers that are due at the
        same time are called in the same order they were setup.</p></li><li><p>Fixed a PyChunkLight reference leak caused by homeless items not
        being cleared with when the rest of the items in a space are cleared.
        This avoids a problem where PyChunkLights could reappear in another
        unrelated space if a client logs off (CAPS+F12) and logs back on
        again.</p></li><li><p>Fixed an issue that whitespace at the beginning of xml files
        where causing "createAppropriateSection" to determine the wrong
        datasection type. All leading whitespace is now ignored when
        determinining the datasection type.</p></li><li><p>Fixed an issue with the ActionQueue so that actions matched by
        the ActionMatcher can now be interrupted by calling actions on the
        same track or actions played on track 0 (primary actions).</p></li><li><p>If BLOOM_FILTER setting is disabled, blur will still work when
        BloomBlur is set to False.</p></li><li><p>Fixed collide action for particle system so particles defined in
        local coordinates collide properly with world.</p></li><li><p>DNS errors on logon are now correctly reported to callback
        passed to <code class="code"> BigWorld.connect() </code>.</p></li><li><p>Python code will operate when inside a zipped resource
        file.</p></li><li><p>The Graph GUI component now draws when it has no associated
        texture, which is the default.</p></li><li><p>The Gobo component now draws with correct pixel-texel mapping,
        removing unwanted blurry artifacts.</p></li><li><p>Disabled fixed-function option on client with SM1 graphics card.
        Fixed function need vertex shader 2.0 no matter whether it is software
        or hardware vertex processing. SM1 graphics card such as TI4400
        enables hardware vertex processing but only support vertex shader 1.1,
        so would cause a crash.</p></li><li><p>Fixed an issue where Visual BSP trees would never get deleted
        from their cache in client code.</p></li><li><p>Fixed an issue where static objects using the visual compound
        optimisation were not being lit by the correct lights.</p></li><li><p>Fixed an issue where <code class="code">ChunkExitPortal::pUmbraModel_</code>
        was created with exactly four vertices of the portal, regardless of
        how many points the portal had.</p></li><li><p>Fixed XConsole bug which would cause the console to spam text if
        the console string could not fit on a single line after switching to a
        lower resolution.</p></li><li><p>Fixed a crash bug which could occur when running a flythrough if
        any new type of UDO is created that doesn't have a name
        property.</p></li><li><p>Added safety checks for D3D memory allocation failures. This
        helps prevent crashes in low memory situations. There is also a new
        personality script callback ("onMemoryCritical") which is triggered
        when running out of memory.</p></li><li><p>Fixed an issue where Python was not allocating memory using
        BigWorlds overrides, resulting in crashes when the memory was later
        freed by BigWorld. An example of this was when Python language
        encoding tags were used in script. </p></li><li><p>Fixed Visual Studio property pages for Consumer_Release
        configuration that incorrectly defined _HYBRID instead of _RELEASE.
        This could have accidently allowed development only code into consumer
        builds. </p></li><li><p>Fixed a bug in the normal map shaders, they were incorrectly
        capping the number of omni lights to 2; they are now capped to 4 as
        would be expected.</p></li><li><p>Fixed a data corruption issue that could occur if streamed
        animation reads were in flight while animation data was being
        released. </p></li><li><p>Fixed potential crashes and data corruption when two models were
        referencing the same animation, one of the models would use the wrong
        animation cache, causing a crash if the animation cache was freed.
        </p></li><li><p>Disabled python logging for Consumer builds. </p></li><li><p>Fixed a problem when the client changes spaces. Previously, the
        space resources would not be released from memory. </p></li><li><p>Ensure that compiled python modules are not written to disk when
        client is running from zipped resource paths. </p></li><li><p>Fixed a problem when setting the texture property of the mouse
        cursor, previously it would fail and eventually crash if user tried to
        set it with a texture provider that supplied a non-rendertarget
        texture. </p></li><li><p>Water simulation cells will now de-activate when the camera
        moves a distance away from them. This helps maintain active cells for
        the movements around the camera. Also, movements will not be added to
        a water simulation if they are too far away from the camera.
        </p></li><li><p>Visible texture seams on the borders of the water simulation
        cells have been greatly reduced for the high quality setting.
        </p></li><li><p>Fixed an issue in <code class="code">SuperModelAction::dress()</code> where
        the blend ratio for additional tracks was being incorrectly modified.
        </p></li><li><p>Prevented compilation of shader files in multiple threads
        simultaneously. Previously, BigWorld's compilation methods could get
        the wrong include paths for a shader file because they are not thread
        safe. </p></li><li><p>The full screen back buffer is now created first, at program
        initialisation. This fixes performance issues with some different
        video card configurations. Previously the render targets were created
        the first time they were used. </p></li><li><p>The sky, sun and moon rendering has been fixed for older
        graphics cards. There was an issue where both the sun and moon were
        visible at midday and midnight as well as the sky dome rendering
        incorrectly on ATI radeon 7200 cards and possibly other fixed function
        cards </p></li><li><p>PyModels now have their foam masked out to avoid the glowing
        effect around players when swimming. </p></li><li><p>The Advanced Post Processing graphics option will now properly
        check the shader cap when being initialised. </p></li><li><p>The key F4 is now being passed to the player entity if it isn't
        handled by an earlier handler.</p></li><li><p>Turned on D3D clipping for fixed function cards. There were
        various problems with artifacts from offscreen primitives that are
        removed with this change.</p></li><li><p>The client now always passes through <span class="literal">argv[0]</span>
        command line parameter (i.e. application path) to sys.argv in
        Python.</p></li><li><p>Terrain collision is now performed on the highest level of
        detail that is available matching the highest level of detail that is
        set through the TERRAIN_MESH_RESOLUTION graphics setting</p></li><li><p>User data object circular references are now broken up when
        chunks containing one or more of these user data objects are unloaded.
        </p></li><li><p>Normal mapped shaders using
        <span class="literal">normalmap_specmap.fxh</span> for rendering and lighting
        now performs lighting consistently with other shaders. This fixes an
        issue where the some shaders were too bright when doing normal mapped
        lighting. </p></li><li><p> The parallax_lighting, subsurface_skinned and water_surface shaders
        now use the proper BigWorld fog parameters.
        </p></li><li><p> The edges of a terrain block will now longer sparkle at some 
        angles/distances from the camera when multiple blend layers are used.
        </p></li><li><p>Fixed bug in PyDataSection which would crash the client if no
		section name was given.</p></li><li><p>WorldApp and CameraApp are now ticked while the client is inactive (i.e. while
      	minimised), which allows chunks to be loaded while minimised.
      	</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e517"></a>6.&nbsp;Known Bugs &amp; Limitations</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Although previously advertised, we have not yet included support
        for Visual Studio 2008.</p></li><li><p>BigWorld does not support multiple client spaces.</p></li><li><p>Resource files compressed using the WinZip command-line tools
        have known issues with BigWorld resource manager. As a workaround,
        either the WinZip GUI or the 7-Zip command-line tools can be
        used.</p></li><li><p>All spotlights are treated as specular regardless of whether
        they have the <code class="code"> specular </code> set.</p></li><li><p>The <code class="code"> ENABLE_CULLING_HUD </code> option defined in <code class="code">
        mf/src/lib/cstdmf/config.hpp </code> has been disabled. If it is
        re-enabled then crashes can occur.</p></li><li><p>Running both the client and the tools simultaneously can exhaust
        video memory and cause undefined behaviour in both
        applications.</p></li><li><p>The <code class="code"> /3gb </code> Windows boot option can sometimes cause
        instability with DirectX applications such as the client.</p></li><li><p>GUI files are not completely loaded in the background using
        <code class="code"> Entity.prerequisites </code> or <code class="code">
        BigWorld.loadResourceListBG </code> . Only the XML file describing the
        gui tree is loaded. To workaround this, you will need to load the gui
        XML file in the background (or preload it), and parse the gui file
        looking for texture maps, then load the texture maps in the background
        using <code class="code"> BigWorld.loadResourceListBG </code> .</p></li><li><p>The direction of the wind setting that applies to the weather
        and to particle systems is not the same direction as the wind that
        gets applied to the flora. Additionally, while speedtrees listen to
        the weather's wind setting, it is not obvious that the wind in the
        trees is coming from that direction at all.</p></li><li><p>The parallax_lighting pixel shader produces incorrect results
        for spot lighting. When you have one or more spot lights inside a
        shell that are using dynamic lighting, at least one will produce an
        incorrect lighting result.</p></li><li><p>There is currently no way to destroy an individual decal, only
        the whole set. This makes it difficult to use decals on models that
        change, for example, a wall that collapses.</p></li><li><p>Particles using local-space rendering do not collide correctly
        using the Collide Action.</p></li><li><p>Callbacks registered using BigWorld.callback(..) are not
        guaranteed to be called back in the order they were added,for
        callbacks within a single frame.</p></li><li><p>MSAA or Multi-sample Anti-aliasing is not available due to the
        way the post-processing filters currently use the back buffer.</p></li><li><p>There is no prerequisites support for loading and creating GUI
        elements.</p></li><li><p>Flora wind is separate from the Speedtree / Particles
        wind.</p></li><li><p>The Action matcher plays its matched actions on Track 0, thus
        overriding the track number you may have selected for the action in
        ModelEditor. Having said this, the interrupt/blend rules for actions
        still work consistently, so any actions played explicitly on track 0
        will interrupt action matched actions. However it is worth noting that
        the action matcher is implicitly overriding the track number
        allocated.</p></li><li><p>Large client spaces can exhibit floating point precision issues
        depending on the distance from the origin. This can become aparent as
        early as 6-7,000 units distance from the origin if models use a lot of
        overlapping geometry. Animation can become jerky at about 15,000 units
        from the origin.</p></li><li><p>An assert is triggered when running the client and power saving
        mode kicks in. (i.e. the laptop is running low on batteries)</p></li><li><p>Models whose set of material groups and tints do not match those
        names used in its LoD parent will sometimes render using an incorrect
        material.</p></li><li><p>The BigWorld client is known not to compile using Express
        versions of Visual C++.</p></li><li><p>Server discovery will crash the client if it is invoked without
        its callback being set.</p></li><li><p>The direction cursor is currently unaffected by changes in
        rotation of the player's vehicle.</p></li><li><p>A speedtree without any billboard information will cause a
        crash.</p></li><li><p>We do not support models with a node hierarchy greater than 128
        elements. This includes bones and joints. If you attempt to add a
        model that has a hierarchy with a greater depth than this, an error
        message will be logged and the model may display incorrectly. </p></li><li><p>Currently, BigWorld only supports a maximum of three bone
        influences per vertex. If the model is defined with vertices that have
        more than three bones, then only the highest three influencing bones
        are used. </p></li><li><p>Due to changes in optimisation targetting for more recent
        hardware support, customers may observe performance issues moving from
        the BigWorld Technology 1.8 releases to the 1.9 releases. If you find
        that this is the case, please contact BigWorld Technology for
        assistance to address this. </p></li><li><p>BigWorld does not support non-orthogonal rotation matrices in
        Visual nodes. The skew will be removed when the matrix is converted to
        the rotation quaternion in the BlendTransform. In 1.9.1, warnings for
        non-orthogonal matrices will be issued in DEBUG configuration. In
        future releases, the visual exporter will ensure the matrices are
        correct and this warning will be upgraded to an error. </p></li><li><p>There are several known issues with the MatrixProvider and
        VectorProviders, because they require the caller to manually tick
        them. As a result some providers are ticked multiple times in the
        frame, while others are not ticked at all. </p></li><li><p>Visual doesn't support node hierarchy deeper than 128 levels.
        </p></li><li><p>Under certain conditions the client can starve the network
        connection while teleporting between spaces. The workaround for this
        is to increase the amount of preloaded shaders that are common between
        spaces, or to increase the server/client timeout period.
        </p></li><li><p>Zipped assets currently suffer form a loading performance penalty and
		it is not recommend to zip large directories where loading speed is critical.
		</p></li></ul></div></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e654"></a>BigWorld Technology 1.9.0.4 Client Release Notes</h2></div></div><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e657"></a>1.&nbsp;Bug Fixes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Fixed a problem when setting the texture property of the mouse
        cursor. Previously it would fail and eventually crash, if user tried
        to set it with a texture provider that supplied a non-rendertarget
        texture.</p></li><li><p>Fixed a problem with using _malloca and _freea when the
        memtracker is enabled. In some cases the the memtracker was used to
        allocate memory and the crt free function was used to free the memory
        causing the application to crash. This was fixed by always using the
        crt malloc and free functions when using _malloca and _freea.</p></li><li><p>Backported camera path code and profiling from 1.9.1. This now
        uses splines for the paths and uses the camera directions specified by
        the camera nodes. This will make it possible to comparing profiles
        between versions in a meaningful way.</p></li></ul></div></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e670"></a>BigWorld Technology 1.9.0.3 Client Release Notes</h2></div></div><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e673"></a>1.&nbsp;New Features</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p><code class="code"> BigWorld.ThirdPersonTargettingMatrix() </code> is now
        available. It is a matrix provider that implements the legacy
        targetting solution, see bug fixes below.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e682"></a>2.&nbsp;Bug Fixes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>The targetting system now uses the specificed source matrix,
        instead of implicitly using the camera matrix and moving it towards
        the source. This allows greater control over the targetting system,
        especially if implementing mouse cursor targetting. If you want to use
        the legacy style of targetting, a new MatrixProvider has been created,
        <code class="code"> BigWorld.ThirdPersonTargettingMatrix </code> . Simply wrap your
        current targetting matrix provider with this one, and set the result
        as the targetting system source attribute.</p></li><li><p>Fixed an issue in <code class="code"> SuperModelAction::dress() </code> where
        the blend ratio for additional tracks was being incorrectly modified.
        This means that multiple track animations with morph targets should
        work correctly.</p></li><li><p>The GUI library now takes into account Direct3D's right-hand
        exclusive rectangles when calculating scissor rectangles for clipping
        components.</p></li><li><p>Fixed an issue where Python was not allocating memory using
        BigWorlds overrides, resulting in crashes when the memory was later
        freed by BigWorld.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e704"></a>3.&nbsp;Changed Features</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>The pixelshaders for the advanced terrain have been optimised,
        this improves terrain rendering performance when only sunlight
        affecting the terrain block.</p></li></ul></div></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e711"></a>BigWorld Technology 1.9.0.2 Client Release Notes</h2></div></div><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e714"></a>1.&nbsp;Bug Fixes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>The lightonly_uvtransform shaders properly interprets the w
        parameter of transform properties so they can be used as offsets
        again.</p></li><li><p>BigWorld.fetchModel() now correctly loads models.</p></li></ul></div></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e724"></a>BigWorld Technology 1.9.0.1 Client Release Notes</h2></div></div><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e727"></a>1.&nbsp;Bug Fixes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Fixed bug in TextureManager that incorrectly loaded compressed
        textures when quality setting was changed which resulted in some
        missing textures.</p></li><li><p>Fixed a crash when loading space while using fixed function
        video card.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e737"></a>2.&nbsp;Changed Features</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Updated to FMod 4.14.04</p></li></ul></div></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e744"></a>BigWorld Technology 1.9.0 Client Release Notes</h2></div></div><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e747"></a>1.&nbsp;Important Notes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Please refer to <em class="emphasis"> How To Convert to
        BigWorld 1.9 </em> for more detailed information on migrating
        from BigWorld 1.8 to 1.9.</p></li><li><p>The BigWorld Technology suite now does some simple XML
        validation.</p><p>Previously, badly formed XML was allowed, but this resulted in
        third-party applications being unable to parse XML resources.</p><p>The main source of these problems is spaces in tag names and tag
        names beginning with numbers, which mostly occurs in three
        places:</p><div class="itemizedlist"><ul type="circle"><li><p><code class="code"> .graph </code> files, which have tags based upon a
            UID, and frequently begin with numbers.</p></li><li><p>Particle systems, which could have spaces in the
            sub-particle system names.</p></li><li><p>Node names in model files, which quite often have spaces in
            certain tags.</p></li></ul></div><p>In version 1.9, the use of such tags result in a warning being
        issued. Future versions of BigWorld Technology will make this an
        error.</p><p>To fix these warnings, you can either manually edit the XML, or
        you can run AssetProcessor, which finds the locations of these errors
        (and in the cases of particle systems, models and graph files, fix
        them for you).</p><p>Badly formed tags should be fixed as follows: </p><div class="itemizedlist"><ul type="circle"><li><p>Spaces in tags should be replaced with <code class="code"> '..' </code>
              .</p><p>For example, <code class="code"> &lt;my tag&gt; </code> should be
              replaced with <code class="code"> &lt;my..tag&gt; </code> .</p><p>Internally what the tag refers to still retains the
              spaces, so for example, in Python or C++, a sub-particle
              system's name is referred to in exactly the same way as
              before.</p></li><li><p>UID tags in <code class="code"> .graph </code> files should be prefixed
              with <code class="code"> 'id.' </code> .</p><p>For example, <code class="code">
              &lt;0897F6FD.4B03ADAD.0F9401B6.C483C775&gt; </code> should be
              replaced with <code class="code">
              &lt;id.0897F6FD.4B03ADAD.0F9401B6.C483C775&gt; </code> .</p></li></ul></div></li><li><p>The client will only run on processors with the SSE instruction
        set -- this means that it needs at least an Intel Pentium 3 or an AMD
        Athlon XP.</p><p>If you wish to run the client on a computer that does not have
        SSE, then you need to disable the <code class="code"> SSE_MATH </code> preprocessor
        directive in <code class="code"> src/lib/math/xp_math.hpp </code> , disable the
        <code class="code"> /arch:SSE </code> option in the project code generation
        options, and recompile the client.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e830"></a>2.&nbsp;New Features</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>A new advanced terrain engine has been added. The new terrain
        engine has support for unlimited texture layers, advanced level of
        detail, configurable <code class="code"> height/shadow/normal </code> map
        resolution and more.</p><p>For details, see the documents:</p><div class="itemizedlist"><ul type="circle"><li><p><em class="emphasis"> Client Programming Guide </em>
            's section <em class="emphasis"> Terrain -&gt; Advanced Terrain
            </em></p></li><li><p><em class="emphasis"> How To Convert to BigWorld 1.9
            </em> 's section <em class="emphasis"> Converting to
            Advanced Terrain </em></p></li><li><p><em class="emphasis"> Content Creation Manual -&gt; Create
            and Apply Terrain Texture Maps </em></p></li></ul></div></li><li><p>Added visualisation of cell boundaries in FantasyDemo client
        (enabled via the Left <code class="code"> Ctrl </code> + <code class="code"> C </code> keyboard
        shortcut).</p><p>For details on FantasyDemo, see the document <em class="emphasis"> BigWorld Tutorial </em> 's section <em class="emphasis"> Overview </em> , and <em class="emphasis"> Content
        Tools Reference Guide </em> 's section <em class="emphasis">
        Starting The Tools </em> .</p></li><li><p>Added support for modifying sound parameters in-game using the
        FMOD Designer tool, as well as support for reloading soundbanks
        in-game to retrieve new sound event definitions without having to
        restart the client.</p><p>For details on sounds in BigWorld, see the document <em class="emphasis"> Client Programming Guide </em> 's section <em class="emphasis"> Sounds </em> and the <em class="emphasis"> Client
        C++ API </em> documentation.</p></li><li><p>Added the <code class="code"> onGeometryMapped </code> callback to the client
        personality script, to be invoked by the engine whenever a geometry is
        mapped to the space on the client.</p><p>For details, see the document <em class="emphasis"> Client
        Programming Guide </em> 's section <em class="emphasis">
        Scripting -&gt; Personality Script -&gt; <code class="code"> onGeometryMapped
        </code> </em> .</p></li><li><p>Added the debug watcher <code class="code"> Client Settings/Sky Dome2/Render
        static sky dome </code> , which toggles the rendering of the static
        sky dome.</p><p>For details on watchers, see the document <em class="emphasis">
        Client Programming Guide </em> 's section <em class="emphasis">
        Debugging -&gt; Watchers </em> .</p></li><li><p>Added support for normal maps and leaf meshes on
        SpeedTrees.</p><p>For details on SpeedTree, see the document <em class="emphasis"> Content Tools Reference Guide </em> 's <em class="emphasis"> WorldEditor -&gt; SpeedTree </em></p></li><li><p>Added the following script functions to clear spaces and
        entities data: <code class="code"> BigWorld.clearAllSpaces </code> and <code class="code">
        BigWorld.clearEntitiesAndSpaces </code> .</p><p>For details, see the <em class="emphasis"> Client Python API
        </em> documentation.</p></li><li><p>Added two new entries to the graphics settings: <code class="code">
        OBJECT_LOD </code> (which adjusts object LODing distances) and <code class="code">
        TEXTURE_FILTERING </code> (which toggles between linear, bilinear,
        trilinear and anisotropic filtering).</p><p>For details, see the document <em class="emphasis"> Client
        Programming Guide </em> 's section <em class="emphasis"> 3D
        Engine (Moo) </em> -&gt; <em class="emphasis"> Graphics
        Settings </em> .</p></li><li><p>Instances of <code class="code"> SpriteParticleRenderer </code> now have the
        option of specifying the <code class="code"> explicitOrientation </code> attribute
        -- this allows a particle to be aligned to a user-defined plane,
        instead of always being locked to the viewer direction.</p><p>For details, see the <em class="emphasis"> Client Python API
        </em> documentation.</p></li><li><p>Python console now persists history in the preferences file
        (Debug and Hybrid builds only).</p><p>For details on the Python console, see the document <em class="emphasis"> Client Programming Guide </em> 's section <em class="emphasis"> Debugging-&gt; Scripts -&gt; Python Console </em>
        .</p></li><li><p>Mouse cursor can now take a texture provider to use as mouse
        pointer.</p><p>For details on how to use this feature, see the <em class="emphasis"> Client Python API </em> documentation.</p></li><li><p>Added the <code class="code"> noFilter </code> option to the texture format
        file.</p><p>When set to True, auto-generated mipmaps are created using point
        filter, instead of linear.</p><p>For details, see the document <em class="emphasis"> File
        Grammar Guide </em> 's section <em class="emphasis"> <code class="code">
        <em class="emphasis"> &lt;compress&gt; </em> .texformat </code> , <code class="code">
        texture_detail_levels.xml </code> </em> .</p></li><li><p>Added the <code class="code"> actionScale </code> and <code class="code"> moveScale
        </code> attributes to the <code class="code"> PyModel </code> class.</p><p><code class="code"> actionScale </code> sets the speed scale of the model's
        action's animation, and <code class="code"> moveScale </code> sets the speed scale
        of the model's action's movement.</p><p>For details, see the <em class="emphasis"> Client Python API
        </em> documentation, and <code class="code"> src/lib/duplo/pymodel.cpp
        </code> .</p></li><li><p>Added the <code class="code"> SaveActionState </code> and <code class="code">
        RestoreActionState </code> methods to the <code class="code"> ActionQueue </code>
        class. These allow the state of the action queue to be saved before
        reloading a supermodel and then restored. This is useful for
        dynamically swapping models in real time without losing the model's
        current action data.</p></li><li><p>Added the <code class="code"> BigWorld.PyResourceRefs </code> class. This
        class holds onto resources loaded in the background thread via <code class="code">
        Entity.prerequisites </code> or <code class="code"> BigWorld.loadResourceListBG
        </code></p></li><li><p>Added the <code class="code"> BigWorld.loadResourceListBG </code> function.
        This function loads a list of resources in the background thread, and
        calls a callback function when complete. It passes an instance of
        <code class="code"> BigWorld.PyResourceRefs </code> into the callback function.
        Note that this behaves exactly like a runtime version of <code class="code">
        Entity.prerequisites </code> . Script writers can manage the lifetime
        of the resources via this object. Note that if you upgrade to the new
        <code class="code"> Entity.onEnterWorld </code> method then you have greater
        control over the lifetime of the entity's prerequisites, as the
        resources are passed into that method.</p></li><li><p>Added a few new Python API functions that can be used to fade
        between sky boxes and to control other weather variables. Examples of
        their usage can be seen in client WeatherSystem.py script, or by
        pressing CTRL+0 in FantasyDemo for a client-only randomised weather
        system demo.</p></li><li><p>Added the Distortion channel. This channel is used for objects
        that want direct access to the main render target as a texture. It is
        used by the water for its refractions. See the the
        bigworld/res/shaders/std_effects/distort.fx shader for another example
        of its usage.</p></li><li><p>The water shader now has a high quality mode that includes
        simple shore animation and foaming as well as some fogging of the
        refraction for deep parts of the water.</p></li><li><p>There is now a way to access the depth information of the scene.
        An MRT texture is created to hold this information. Refer to <code class="code">
        src/lib/romp/full_screen_back_buffer.cpp </code> .</p></li><li><p>The Moo RenderContext now supports multiple render targets. All
        previous calls to the d3d device SetRenderTarget should now go through
        the RenderContext::setRenderTarget(..).</p></li><li><p>There is a new data section type: <code class="code"> ZipSection </code> . It
        implements the creation/loading of zip files that can be used to
        replace the usage of a BinSection with multiple children. These are
        especially handy for development time because they allow easy access
        to internal data structures of previously solid binary blocks. They
        also support partial loading and compression of the internal files.
        The .cdata files used for space data, and shader .fxo's are now in
        this zip format.</p></li><li><p>.fx files may now be preloaded by the application. Doing so will
        help smooth the frame-rate, but like all preloads it will incur memory
        usage that exists throughout the lifetime of the application.</p></li><li><p>.fx files can now be built offline using the RebuildShaders.py
        script. This will build shaders using all possible setting
        combinations, so that the end-user doesn't have to compile them
        themselves the first time the client is start (and whenever certain
        graphics settings are changed).</p></li><li><p>The client can now be run without the source shader .fx files if
        the corressponding .fxo files exists.</p></li><li><p>Added a new type of script object, the user data dbject, which
        allows embedding user-defined data in chunk files. A key feature of
        user data objects is their linkability, which allows both entities and
        user data objects to link to other user data objects. They can be
        instatiated in the client or the server.</p></li><li><p>Added the Vector4Morph Vector4Provider class. Please see the
        client Python API for full details of this class.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e1135"></a>3.&nbsp;Changed Features</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Morph animations no longer blend against each other, this means
        that you can play back two morph animations at the same time without
        the result of them being halved. Morph animations can still blend in
        and out using the action system.</p></li><li><p>The interface of the callback function passed to <code class="code">
        BigWorld.connect </code> has changed.</p><p>The second parameter is now the status enumeration defined in
        <code class="code"> login_inface.hpp </code> , in string form, and the third
        parameter is now always provided.</p><p>For details, see the <em class="emphasis"> Client Python API
        </em> documentation.</p></li><li><p>The source file <code class="code"> bigworld/src/client/app.cpp </code> has
        been broken up into multiple files.</p><p>Customers that have modified this file will need to merge their
        changes.</p></li><li><p>All particle system classes have been moved to a new library,
        <code class="code"> src/lib/particles </code> . All C++ classes no longer inherit
        from <code class="code"> PyObjectPlus </code> , instead they each have a
        corresponding python wrapper class. This change was made to allow
        particle systems to be able to be fully loaded in the background
        thread.</p><p>Customers that have modified this system will need to merge
        their changes.</p></li><li><p>Warnings are now enabled as errors on all VC2005 projects (using
        the <code class="code"> /WX </code> compiler flag).</p></li><li><p>Unknown D3D error codes will now be output in the more useful
        hexadecimal format. Also, the <code class="code"> DVDERR_DRIVERINTERNALERROR
        </code> error is now handled.</p></li><li><p>SpeedTree branch geometry is now used for collision detection,
        along with the collision volumes defined in SpeedTreeCAD.</p><p>For details, see the document <em class="emphasis"> Content
        Tools Reference Guide </em> 's section <em class="emphasis">
        WorldEditor -&gt; SpeedTree -&gt; Collision Geometry </em>
        .</p></li><li><p>The custom implementation of Queue in the FantasyDemo script was
        replaced in favor of Python's standard version.</p></li><li><p>The collision test in <code class="code"> BigWorld.addDecal </code> has been
        changed to detect collisions in the same way a straight call to <code class="code">
        BigWorld.collide </code> would.</p><p>Previously, it would ignore collisions detected at or closer to
        0.1 metres from the origin of the collision ray. This behaviour can be
        reverted by setting <code class="code"> PRESERVE_V18X_COLLISION_OFFSET </code> to 1
        in <code class="code"> src/lib/duplo/decal.cpp </code> .</p><p>For details, see the <em class="emphasis"> Client C++ API
        </em> documentation.</p></li><li><p>The shaders in the <code class="code"> bigworld/res/shaders/std_effects
        </code> folder have been renamed from <code class="code"> character_lighting*
        </code> to <code class="code"> normalmap* </code> .</p><p>For details, see <code class="code"> bigworld/res/shaders/std_effects </code>
        .</p></li><li><p>SpeedTree LODing now takes the size of the tree into
        consideration when computing the LOD value (when <code class="code"> LOD Model
        </code> is -2).</p><p>For details, see the document <em class="emphasis"> Content
        Tools Reference Guide </em> 's section <em class="emphasis">
        WorldEditor -&gt; SpeedTree -&gt; Level Of Detail </em> .</p></li><li><p>SpeedTree integration now links against y-up versions of
        SpeedTree libraries.</p></li><li><p>For easier maintenance, the <code class="code">
        bigworld/res/shaders/speedtree/speedtree.fx </code> file has been
        refactored into four separate FX files.</p><p>For details, see <code class="code"> bigworld/res/shaders/speedtree </code>
        .</p></li><li><p>The <code class="code"> Moo::TextureCompressor </code> has been changed as
        described below: </p><div class="itemizedlist"><ul type="circle"><li><p>The constructor now defaults to useful values.</p></li><li><p>The method <code class="code"> convertTo </code> (for in-memory
              conversion) has been created.</p></li><li><p>Converted textures now live in managed pool, rather than
              in system memory.</p></li></ul></div><p>For details, see the <em class="emphasis"> Client C++ API
        </em> documentation.</p></li><li><p>The client no longer clears all entities and spaces data when
        disconnected.</p><p>It is now the script programmer's responsibility to call <code class="code">
        BigWorld.clearAllSpaces </code> and <code class="code"> BigWorld.resetEntityManager
        </code> when a disconnection occurs. This behaviour can be reverted
        back to the way 1.8.x worked by setting the <code class="code"> #define
        PRESERVE_V18X_DISCONNECTED </code> in <code class="code">
        bigworld/src/client/entity_manager.hpp </code> .</p><p>For details, see the <em class="emphasis"> Client Python API
        </em> documentation.</p></li><li><p>An optional argument was added to <code class="code">
        BigWorld.resetEntityManager </code> , which allows the player entity
        to survive the entity manager clear-up.</p><p>For details, see the <em class="emphasis"> Client Python API
        </em> documentation.</p></li><li><p>If the <code class="code"> <em class="emphasis"> &lt;res&gt; </em> /resources.xml
        </code> 's <code class="code"> LoadingScreenGUI </code> tag has an associated
        script object, then it is no longer automatically added to the GUI
        root.</p><p>In this case, the GUI script should add it itself (most probably
        from the <code class="code"> onLoad </code> notification method). If the loading
        screen GUI does not have an associated script, then the old behaviour
        is preserved -- <em class="emphasis"> i.e. </em> , it is added to the GUI
        root after the load is complete.</p><p>For details on how to use this tag, see the document <em class="emphasis"> Client Programming Guide </em> 's section <em class="emphasis"> Scripting -&gt; Personality Script -&gt; <code class="code"> init
        </code> </em> , and <em class="emphasis"> How To Implement A
        Progress Bar </em> 's section <em class="emphasis">
        Implementing Progress Bars </em> .</p></li><li><p>The <code class="code"> SimpleMutex </code> class is now implemented using a
        <code class="code"> CRITICAL_SECTION </code> , instead of a <code class="code"> Mutex </code>
        .</p></li><li><p>The zlib library has been updated from version 1.2.1 to version
        1.2.3. This version includes some security fixes. See <code class="code">
        mf/src/lib/zip/ChangeLog </code> for more details.</p></li><li><p>The <code class="code"> App </code> constructor now takes two optional
        parameters for compile time string and build id, this removes a
        circular dependency between bwclient lib and host executable.</p></li><li><p>The <code class="code"> callNextFrame </code> function and other callback
        related functions have been moved from <code class="code">
        client/script_bigworld.cpp </code> to <code class="code"> pyscript/py_callback.cpp
        </code> . This removes a circular dependency between several libs and
        bwclient lib.</p></li><li><p>The FantasyDemo solution now explicitly includes dependencies
        for each module, rather than having FantasyDemo project include all
        other modules.</p></li><li><p>The <code class="code"> math3D </code> library has been been renamed to
        <code class="code"> math </code> on Win32.</p></li><li><p>The terrain code (for both classic and new terrain) has been
        moved from <code class="code"> Moo </code> to the new <code class="code"> Terrain </code>
        library</p></li><li><p>The <code class="code"> Matrix::row() </code> set method now takes a <code class="code">
        Vector4 </code> input parameter, rather than returning <code class="code"> Vector4
        &amp; </code> . This avoids possible strict aliasing issues when
        compiling under GCC.</p></li><li><p>Water no longer creates a second render target for refraction.
        It now uses the new Distortion channel.</p></li><li><p>Movements in water now have a particle system associated with
        them, causing a splashing effect.</p></li><li><p>Respacker now uses a null ref d3d device. This allows creation
        of d3d resources (e.g. .dds files) without having a d3d device
        present.</p></li><li><p>Dynamic lending as been added to ensure dynamic objects are
        correctly rendered when crossing the boundaries between chunks.</p></li><li><p>The loadSoundBank, unloadSoundBank and reloadSoundBank methods
        have been replaced with loadEventProject, unloadEventProject and
        reloadEventProject, respectively, since these methods handle loading
        and unloading a FMOD Event project file and not a sound bank.</p></li><li><p>Building the PyModule_Hybrid configuration no longer require the
        user to modify the project dependencies.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e1451"></a>4.&nbsp;Bug Fixes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>The client no longer uses a <code class="code"> modeIndex </code> value in
        the <code class="code"> preferences.xml </code> file to choose which screen
        resolution to default to -- it now uses the <code class="code"> screenWidth </code>
        and <code class="code"> screenHeight </code> parameters. This fixes issues with
        copying the <code class="code"> preferences.xml </code> file between computers with
        different devices, as different devices may use different <code class="code">
        modeIndex </code> values.</p></li><li><p>Cues are now always correctly exported from 3dsMax -- the time
        unit for cues was in seconds, when it should have been in frames.
        Developers worked around the problem either by multiplying the cue
        time by the frame rate, or by dividing the frame time by the frame
        rate. This workaround generally hardcoded the framerate at which
        animations could be exported, and is no longer needed.</p></li><li><p><code class="code"> RenderContext::changeMode </code> now uses the correct
        window size when switching from full-screen to windowed mode.</p></li><li><p><code class="code"> BigWorld.windowSize </code> now does not return
        out-of-date values.</p></li><li><p>The shader compilation does not cause memory leaks anymore,
        which happened because the source <code class="code"> .fx </code> file was kept in
        memory after use. The shader caching was also changed to only compile
        the shader, and not load it into memory -- a shader will now only be
        loaded into D3D when it is touched in a preload. This saves loading
        the entire shader set when they will not be used.</p></li><li><p>Python console history has been changed to no longer store empty
        command lines.</p></li><li><p>SpeedTrees' transforms do not behave erratically anymore if a
        non-uniform scaling is applied.</p></li><li><p>Chunk manager now updates the minimum distance to the farthest
        loaded chunk when the far plane distance changes.</p></li><li><p>Cue responses are no longer culled before being played.</p></li><li><p>Camera can now be moved into a space other than the one the
        player is currently in.</p></li><li><p>Decals and splodges on terrain with non-zero height are now
        correctly rendered.</p></li><li><p>Stopping a DogWatch that has not been started does not corrupt
        memory anymore.</p></li><li><p>Animations now do not inherit bone information only from the
        lowest level LOD of a SuperModel.</p></li><li><p>GUI components now save and load the mapping coordinates and all
        focus flags.</p></li><li><p>Fixed a crash in Pixie.createBG.</p></li><li><p>Pixie.createBG now loads the entire system in the background
        thread. This fixes a problem where the use of Pixie.createBG would
        cause a spike in the frame rate.</p></li><li><p>Chunk Particle systems now load the entire system in the
        background thread. This fixes a problem where the use of Chunk
        Particle systems would cause a spike in the frame rate.</p></li><li><p>Fixed possible issues when using <code class="code">
        BigWorld.spaceLoadStatus() </code> after teleporting between
        spaces.</p></li><li><p>Worked around possible strict aliasing issue in <code class="code">
        PackedSection::asMatrix34() </code></p></li><li><p>Lens flares now set their own FVF before drawing, avoiding
        related d3d errors.</p></li><li><p>Speedtree optimised billboards will now adher to the reflection
        visible flags properly.</p></li><li><p>Fixed some problems with the priorities of lights causing
        flickering. The first directional light gets the highest priority,
        followed by the point lights and spot lights.</p></li><li><p>The light container selection for visual compounds has been
        improved. It now uses the combined bounding box of all the objects to
        determine the lights.</p></li><li><p>The effect visual context will now check the maximum number of
        lights available instead of blindly uploading everything. This fixes
        some problems with lighting when lots of lights are around.</p></li><li><p>Some speedtree bsp files had incorrect rotations applied, this
        has been fixed.</p></li><li><p>"Don't Render" materials will no longer cast shadows.</p></li><li><p>Water simulation will now work at the same time that rain is
        active on a water surface.</p></li><li><p>Decals will now fog correctly when using the fixed function
        pipeline.</p></li><li><p>The "mipSkip" flag no longer gets applied to cube maps.</p></li><li><p>Speedtree LOD values are now calculated from the closest point
        to the eye instead of always being the base of the tree. This fixes
        some lodding issues when trees are scaled.</p></li><li><p>A missing rain_splashes.xml no longer causes a crash.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e1578"></a>5.&nbsp;Deprecated Features</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>The <code class="code"> BigWorld.windowSize </code> method has been
        deprecated -- use <code class="code"> BigWorld.screenSize </code> instead.</p><p>For details, see the <em class="emphasis"> Client Python API
        </em> documentation.</p></li><li><p>The <code class="code"> Entity.enterWorld </code> method has been deprecated
        -- use <code class="code"> Entity.onEnterWorld </code> instead.</p><p>For details, see the <em class="emphasis"> Client Python API
        </em> documentation.</p></li><li><p>The <code class="code"> Entity.leaveWorld </code> method has been deprecated
        -- use <code class="code"> Entity.onLeaveWorld </code> instead.</p><p>For details, see the <em class="emphasis"> Client Python API
        </em> documentation.</p></li><li><p>Removed <code class="code"> IdentityMatrix </code> class, you can still use
        <code class="code"> Matrix::identity </code> constant.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e1633"></a>6.&nbsp;Known Issues</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Although previously advertised, we have not included support for
        Visual Studio 2008 out-of-the-box for 1.9.0</p></li><li><p>The client cannot recover after a device loss on Windows XP or
        Vista. This issue will occur when any of the following occurs.</p><div class="itemizedlist"><ul type="circle"><li><p>User presses CTRL+ALT+DEL.</p></li><li><p>User locks the computer (Windows Key + L)</p></li><li><p>Vista only: The UAC dialog is activated by any program
            (including FantasyDemo) while FantasyDemo is running.</p></li></ul></div></li><li><p>BigWorld does not support multiple client spaces.</p></li><li><p>Resource files compressed using the WinZip command-line tools
        have known issues with BigWorld resource manager. As a workaround,
        either the WinZip GUI or the 7-Zip command-line tools can be
        used.</p></li><li><p>Python code will not operate when inside a zipped resource file,
        whether compressed or not.</p></li><li><p>All spotlights are treated as specular regardless of whether
        they have the <code class="code"> specular </code> set.</p></li><li><p>Occasionally, terrain polygons (on new terrain spaces) are
        clipped incorrectly on GeForce 6600 cards.</p></li><li><p>The <code class="code"> ENABLE_CULLING_HUD </code> option defined in <code class="code">
        mf/src/lib/cstdmf/config.hpp </code> has been disabled. If it is
        re-enabled then crashes can occur.</p></li><li><p>Running both the client and the tools simultaneously can exhaust
        video memory and cause undefined behaviour in both
        applications.</p></li><li><p>The <code class="code"> /3gb </code> Windows boot option can sometimes cause
        instability with DirectX applications such as the client.</p></li><li><p>GUI files are not completely loaded in the background using
        <code class="code"> Entity.prerequisites </code> or <code class="code">
        BigWorld.loadResourceListBG </code> . Only the XML file describing the
        gui tree is loaded. To workaround this, you will need to load the gui
        XML file in the background (or preload it), and parse the gui file
        looking for texture maps, then load the texture maps in the background
        using <code class="code"> BigWorld.loadResourceListBG </code> .</p></li><li><p>The direction of the wind setting that applies to the weather
        and to particle systems is not the same direction as the wind that
        gets applied to the flora. Additionally, while speedtrees listen to
        the weather's wind setting, it is not obvious that the wind in the
        trees is coming from that direction at all.</p></li><li><p><code class="code"> .chunk </code> files packed with <code class="code"> res_packer
        </code> cause the client to assert and crash.</p></li><li><p>The parallax_lighting pixel shader produces incorrect results
        for spot lighting. When you have one or more spot lights inside a
        shell that are using dynamic lighting, at least one will produce an
        incorrect lighting result.</p></li><li><p>There is currently no way to destroy an individual decal, only
        the whole set. This makes it difficult to use decals on models that
        change, for example, a wall that collapses.</p></li><li><p>Particles using local-space rendering do not collide correctly
        using the Collide Action.</p></li><li><p>Callbacks registered using BigWorld.callback(..) are not
        guaranteed to be called back in the order they were added,for
        callbacks within a single frame.</p></li><li><p>MSAA or Multi-sample Anti-aliasing is not available due to the
        way the post-processing filters currently use the back buffer.</p></li><li><p>There is no prerequisites support for loading and creating GUI
        elements.</p></li><li><p>Flora wind is separate from the Speedtree / Particles
        wind.</p></li><li><p>The Action matcher plays its matched actions on Track 0, thus
        overriding the track number you may have selected for the action in
        ModelEditor. Having said this, the interrupt/blend rules for actions
        still work consistently, so any actions played explicitly on track 0
        will interrupt action matched actions. However it is worth noting that
        the action matcher is implicitly overriding the track number
        allocated.</p></li><li><p>Large client spaces can exhibit floating point precision issues
        depending on the distance from the origin. This can become aparent as
        early as 6-7,000 units distance from the origin if models use a lot of
        overlapping geometry. Animation can become jerky at about 15,000 units
        from the origin.</p></li><li><p>An assert is triggered when running the client and power saving
        mode kicks in. (i.e. the laptop is running low on batteries)</p></li><li><p>Models whose set of material groups and tints do not match those
        names used in its LoD parent will sometimes render using an incorrect
        material.</p></li><li><p>The BigWorld client is known not to compile using Express
        versions of Visual C++.</p></li><li><p>Server discovery will crash the client if it is invoked without
        its callback being set.</p></li><li><p>The direction cursor is currently unaffected by changes in
        rotation of the player's vehicle.</p></li><li><p>A speedtree without any billboard information will cause a
        crash.</p></li><li><p>Terrain rendering issues on the RADEON 9600XT, the diffuse pass
        is not working, although it should be.</p></li></ul></div></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e1760"></a>BigWorld Technology 1.8.6.6 Client Release Notes</h2></div></div><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e1763"></a>1.&nbsp;Changed Features</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Upgraded <code class="code"> LineHelper </code> to same functionality as 1.9
        - added optional lifetime parameter, and methods for drawing bounding
        boxes and triangles.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e1773"></a>2.&nbsp;Bug Fixes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Fixed an issue where decals were often clipped in the -x and -z
        directions. Used a simpler method to choose candidate terrain
        triangles to test against decal prism. Also back ported fix to
        collision extents, and a fix for decal z-fighting.</p></li></ul></div></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e1780"></a>BigWorld Technology 1.8.6.5 Client Release Notes</h2></div></div><hr></div><div class="itemizedlist"><ul type="disc"><li><p>Fixed a bug introduced in 1.8.6.4 where the last task in the list
      of background tasks would not get notified when it completed.</p></li></ul></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e1787"></a>BigWorld Technology 1.8.6.4 Client Release Notes</h2></div></div><hr></div><div class="itemizedlist"><ul type="disc"><li><p>Background task manager now removes the task pointer from the list
      of background tasks before calling the task's completion notification
      method. This avoids problems if the background task deletes itself and
      then spawns a new background task which is allocated the same memory
      address (causing addTask to fail).</p></li><li><p>Fixed artificial latency. Previously when the <code class="code">
      Nub/artificialLatency/dropPerMillion </code> watcher was set to a value
      above 32767, all packets from the client would not be sent.</p></li></ul></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e1800"></a>BigWorld Technology 1.8.6.3 Client Release Notes</h2></div></div><hr></div><p>No changes were done for this version.</p></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e1805"></a>BigWorld Technology 1.8.6.2 Client Release Notes</h2></div></div><hr></div><p>No changes were done for this version. </p></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e1810"></a>BigWorld Technology 1.8.6.1 Client Release Notes</h2></div></div><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e1813"></a>1.&nbsp;Bug Fixes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Fixed possible memory corruption that occurs when multiple
        attempts are made to contact a BaseApp.</p></li></ul></div></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e1820"></a>BigWorld Technology 1.8.6 Client Release Notes</h2></div></div><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e1823"></a>1.&nbsp;New Features</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Added callbacks <code class="code"> Entity.onLeaveSpace </code> and <code class="code">
        Entity.onEnterSpace </code> .</p><p>These will be called if an entity teleports with the player
        between the same spaces. The existing callbacks, <code class="code">
        Entity.onLeaveWorld </code> and <code class="code"> Entity.onEnterWorld </code> are
        not called as the entity stays in the player's AoI and does not get
        destroyed.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e1844"></a>2.&nbsp;Bug Fixes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Fixed a threading issue that could result in a dangling pointer
        dereference when deleting a space while ecotypes (flora) are still
        being loaded, potentially causing a crash.</p></li><li><p>Fixed an issue where Python exposed Tint properties could
        overwrite shared defaults if their value had not been explicitly
        changed in ModelEditor. This would cause models using the same effect
        but with no Tints to be drawn incorrectly.</p></li><li><p>Fixed an issue where <code class="code"> ChunkExitPortal::pUmbraModel_
        </code> was created with exactly four vertices of the portal,
        regardless of how many points the portal had. This might have caused
        client crashes if using portals with less than four vertices, or
        culling issues if portals had more than four vertices.</p></li><li><p>Improved management of occlusion queries. The RenderContext now
        performs validity checking on occlusion queries before deleting them,
        and updates occlusion query indexes when the queries are removed. This
        fixes a potential crash when the device is reset and released.</p></li><li><p>Fixed a bug where <code class="code"> AvatarFilter::extract() </code> would
        occasionally fail to set the velocity output parameter. This caused
        incorrect behaviour if the velocity was then used by the <code class="code">
        ActionMatcher </code> .</p></li></ul></div></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e1872"></a>BigWorld Technology 1.8.5 Client Release Notes</h2></div></div><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e1875"></a>1.&nbsp;Changed Features</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>A new status number is returned when a client login is denied
        due to the login rate limit being exceeded. Previously, a status
        number of -81 was returned. Now, a status number of -82 is returned.
        The new status number allows script code to differentiate between a
        login failure due to a manual suspension of logins at the server
        (status number -81) and a login failure due to an automated login rate
        regulation mechanism (status number -82). When the latter status
        number is encountered it is usually appropriate to retry the login
        after a small delay.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e1882"></a>2.&nbsp;Bug Fixes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Fixed bug in Physics class that sometimes caused the entity to
        pass though objects if seeking vertically.</p></li><li><p>Fixed a potential dangling pointer bug on the client during
        shutdown.</p></li><li><p>Fixed a crash bug when a speedtree file has no composite map
        info included. An error message will now be printed.</p></li><li><p>Fixed a crash when loading a space while using a fixed function
        video card.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e1898"></a>3.&nbsp;Known Issues</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Resource files compressed using the WinZip command-line tools
        have known issues with BigWorld resource manager. As a workaround,
        either the WinZip GUI or the 7-Zip command-line tools can be
        used.</p></li><li><p>The chunk culling debug HUD has been disabled, due to a number
        of bugs it introduced.</p></li><li><p>If a player is on a vehicle when that cell goes down, the player
        is repositioned incorrectly.</p></li><li><p>In FantasyDemo, trading with the Merchant may not work when
        running multiple BaseApps. This is caused by the scripts making
        assumptions that the trading Avatar is on the same BaseApp as the
        Merchant.</p></li><li><p>Particle systems are always reflected in water.</p></li><li><p>If there are more than 255 DogWatch manifestions, the timing
        results will be incorrect (i.e. the numbers on the Engine Statistics
        console).</p></li><li><p>Objects with ModelEditor's flag <em class="emphasis"> Model
        Batching </em> flag turned on ignore all lights, except for the
        sunlight.</p></li><li><p>Raindrop simulation and entity interaction water simulation do
        not work at the same time.</p></li><li><p>Decals are not supported on SpeedTrees.</p></li><li><p>Guards and Creatures in FantasyDemo are not cleaned up when
        changing spaces, this is caused by bugs in our scripts and you can
        avoid it in your game by being careful about creating circular
        references to entities.</p></li><li><p>Printing large strings in Python (such as when using <code class="code">
        gc.get_objects() </code> ) causes the client to crash. <br> This
        can be worked around by replacing the <code class="code"> fprintf(s_file, msg);
        </code> in <code class="code"> PyOutputWriter::py_write() </code> with:
        </p><pre class="programlisting">
            

  for(const char *i = msg; *i != '\0'; i++)

    fwrite(i, sizeof(char), 1, s_file);
          </pre></li><li><p>If a CellApp dies, clients riding <code class="code"> Rippers </code> in that
        cell may suffer a critical error in <code class="code">
        EntityManager::onRestoreClient() </code> .</p></li><li><p>The FlexiCam used for the mouse mode does not perform collision
        detection. <br> As a result it moves through walls, especially in
        indoor chunks.</p></li><li><p>On some machines, there are problems rendering alpha-blended
        triangles when also looking at shimmer items--the alpha-blended
        triangles pick up the shimmer as well.</p></li><li><p>On occasions, there is a slight error in the transform
        calculation of actions using the <code class="code"> IsImpacting </code> flag.
        <br> This manifests itself as a slight rotation inaccuracy.</p></li><li><p>Due to the fact that the server sends compressed information for
        volatile position information to the clients, entities closer to the
        player get more detailed information. <br> This can cause
        stationary entities to move as you approach (or retreat from)
        them.</p></li><li><p>Impacting actions can move the position of an entity without
        considering the collision scene. Therefore, it is possible for an
        impacting action to move an entity inside the collision scene, causing
        the player to become stuck. <br> Care should be taken to avoid
        these situations.</p></li><li><p>Some Python interface properties return copies of their values,
        instead of the actual ones. <br> This can cause confusion when
        modifying part of the copied object, as the value will not be
        modified. <br> For example, the code excerpt below does not affect
        the colour of the spot: <br> <code class="code">
        self.hudTargettingSpots[index].colour[3] = self.lowAlpha
        </code></p></li><li><p>If the Bloom filter is turned off via the graphics settings but
        the graphics hardware supports it, the teleport screen in FantasyDemo
        displays incorrectly.</p></li><li><p>BigWorld does not support multiple client spaces.</p></li><li><p>BigWorld will revert to software vertex processing on hardware
        that has no pixel shader support even if hardware vertex processing is
        available. This affects certain 7-series ATI Radeon models.</p></li></ul></div></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e2006"></a>BigWorld Technology 1.8.4.2 Client Release Notes</h2></div></div><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2009"></a>1.&nbsp;Bug Fixes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Fixed a bug where an incorrect <code class="code"> #define </code> guard
        allowed client to include and execute code which attempts to find
        Message Logger in the network. This code will now be included and
        executed only when watchers are enabled.</p></li><li><p>Fixed a bug where models can occasionally flicker at rare camera
        angles when a water object is in the scene.</p></li></ul></div></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e2022"></a>BigWorld Technology 1.8.4.1 Client Release Notes</h2></div></div><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2025"></a>1.&nbsp;Bug Fixes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Fixed a bug where XMLHandle::save was always returning success,
        even if it failed.</p></li><li><p>Fixed a bug where objects with custom bsp's would sometime not
        receive shadows.</p></li><li><p>Fixed hitTest() function for BoundingBoxGUIComponent so mouse
        events can be triggered.</p></li></ul></div></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e2038"></a>BigWorld Technology 1.8.4 Client Release Notes</h2></div></div><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2041"></a>1.&nbsp;Important Notes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>The client will only run on a processor with the SSE instruction
        set. This means it needs at least an Intel Pentium 3 or an AMD Athlon
        XP. If you wish to run the client on a computer that does not have SSE
        then you need to disable the <code class="code"> SSE_MATH </code> preprocessor
        directive in <code class="code"> src/lib/math/xp_math.hpp </code> , disable the
        <code class="code"> /arch:SSE </code> option in the project code generation options
        and recompile the client.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2057"></a>2.&nbsp;New Features</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>There is a new graphics option - <code class="code"> MORPH_VERTICES </code> .
        By default it is enabled which is the normal behaviour. Turning it off
        disables MorphVertices and instead uses a static mesh in the base
        pose.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2067"></a>3.&nbsp;Bug Fixes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>The method <code class="code"> BigWorld.changeVideoMode() </code> now
        correctly returns Python True/False as described in its Python API
        documentation; previously None was returned on success, otherwise if
        the operation failed, a Python error was indicated, but no exception
        was set.</p></li><li><p>Fixed an issue where some font DDS files would not be generated
        correctly on some AMD/ATI cards.</p></li><li><p>Fixed an issue where effect validation would fail when no pixel
        shaders are available.</p></li><li><p>Fixed an issue with flora fogging on ATI cards.</p></li><li><p>Fixed an issue where models added to a PyModelRenderer would
        receive a tick() call twice per frame. The model will now only be
        ticked by the PyModelRenderer.</p></li><li><p>Fixed an issue in <code class="code"> BSP::intersects() </code> where
        multiple collisions of triangles in same plane were not
        reported.</p></li><li><p>Fixed a possible strict aliasing issue in <code class="code">
        PackedSection::asMatrix34() </code></p></li><li><p>Fixed an issue where client-only entities would be deleted if
        the CellApp that the client is connected to is lost.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2103"></a>4.&nbsp;Known Issues</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Resource files compressed using the WinZip command-line tools
        have known issues with BigWorld resource manager. As a workaround,
        either the WinZip GUI or the 7-Zip command-line tools can be
        used.</p></li><li><p>The chunk culling debug HUD has been disabled, due to a number
        of bugs it introduced.</p></li><li><p>If a player is on a vehicle when that cell goes down, the player
        is repositioned incorrectly.</p></li><li><p>In FantasyDemo, trading with the Merchant may not work when
        running multiple BaseApps. This is caused by the scripts making
        assumptions that the trading Avatar is on the same BaseApp as the
        Merchant.</p></li><li><p>Particle systems are always reflected in water.</p></li><li><p>If there are more than 255 DogWatch manifestions, the timing
        results will be incorrect (i.e. the numbers on the Engine Statistics
        console).</p></li><li><p>Objects with ModelEditor's flag <em class="emphasis"> Model
        Batching </em> flag turned on ignore all lights, except for the
        sunlight.</p></li><li><p>Raindrop simulation and entity interaction water simulation do
        not work at the same time.</p></li><li><p>Decals are not supported on SpeedTrees.</p></li><li><p>Guards and Creatures in FantasyDemo are not cleaned up when
        changing spaces, this is caused by bugs in our scripts and you can
        avoid it in your game by being careful about creating circular
        references to entities.</p></li><li><p>Printing large strings in Python (such as when using <code class="code">
        gc.get_objects() </code> ) causes the client to crash. <br> This
        can be worked around by replacing the <code class="code"> fprintf(s_file, msg);
        </code> in <code class="code"> PyOutputWriter::py_write() </code> with:
        </p><pre class="programlisting">
            

  for(const char *i = msg; *i != '\0'; i++)

    fwrite(i, sizeof(char), 1, s_file);
          </pre></li><li><p>If a CellApp dies, clients riding <code class="code"> Rippers </code> in that
        cell may suffer a critical error in <code class="code">
        EntityManager::onRestoreClient() </code> .</p></li><li><p>The FlexiCam used for the mouse mode does not perform collision
        detection. <br> As a result it moves through walls, especially in
        indoor chunks.</p></li><li><p>On some machines, there are problems rendering alpha-blended
        triangles when also looking at shimmer items--the alpha-blended
        triangles pick up the shimmer as well.</p></li><li><p>On occasions, there is a slight error in the transform
        calculation of actions using the <code class="code"> IsImpacting </code> flag.
        <br> This manifests itself as a slight rotation inaccuracy.</p></li><li><p>Due to the fact that the server sends compressed information for
        volatile position information to the clients, entities closer to the
        player get more detailed information. <br> This can cause
        stationary entities to move as you approach (or retreat from)
        them.</p></li><li><p>Impacting actions can move the position of an entity without
        considering the collision scene. Therefore, it is possible for an
        impacting action to move an entity inside the collision scene, causing
        the player to become stuck. <br> Care should be taken to avoid
        these situations.</p></li><li><p>Some Python interface properties return copies of their values,
        instead of the actual ones. <br> This can cause confusion when
        modifying part of the copied object, as the value will not be
        modified. <br> For example, the code excerpt below does not affect
        the colour of the spot: <br> <code class="code">
        self.hudTargettingSpots[index].colour[3] = self.lowAlpha
        </code></p></li><li><p>If the Bloom filter is turned off via the graphics settings but
        the graphics hardware supports it, the teleport screen in FantasyDemo
        displays incorrectly.</p></li><li><p>BigWorld does not support multiple client spaces.</p></li><li><p>BigWorld will revert to software vertex processing on hardware
        that has no pixel shader support even if hardware vertex processing is
        available. This affects certain 7-series ATI Radeon models.</p></li></ul></div></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e2211"></a>BigWorld Technology 1.8.3.5 Client Release Notes</h2></div></div><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2214"></a>1.&nbsp;Bug Fixes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Fixed a memory leak where VertexSnapshot's were being leaked
        when passed into a disabled visual channel.</p></li></ul></div></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e2221"></a>BigWorld Technology 1.8.3.3 Client Release Notes</h2></div></div><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2224"></a>1.&nbsp;Bug Fixes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Fixed an assert when processing a corrupted packet.</p></li><li><p>Fixed an access violation for the umbra statistics.</p></li><li><p>Optimised performance of SimpleGUI when processing mouse
        events.</p></li></ul></div></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e2237"></a>BigWorld Technology 1.8.3.2 Client Release Notes</h2></div></div><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2240"></a>1.&nbsp;Bug Fixes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Fixed a bug with development assertion failures not respecting
        the value of the watcher debug/hasDevelopmentAssertions, causing
        development assertion failures to interrupt the client.</p></li><li><p>Fixed an occasional assert when relogging on to the server
        quickly after a disconnect.</p></li></ul></div></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e2250"></a>BigWorld Technology 1.8.3.1 Client Release Notes</h2></div></div><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2253"></a>1.&nbsp;Changed Features/Bug Fixes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Fixed a bug that resulted in an occasional crash when using
        TextGUIComponents.</p></li></ul></div></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e2260"></a>BigWorld Technology 1.8.3 Client Release Notes</h2></div></div><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2263"></a>1.&nbsp;New Features</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Added support for animated mouse cursors by using an animated
        texture as the cursor's shape.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2270"></a>2.&nbsp;Bug Fixes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Fixed a bug where accessing a parameter of a playing sound would
        cause the sound to stop playing.</p></li><li><p>Fixed a bug that could cause the client entity to be in a space
        that is inconsistent with the server after teleporting.</p></li><li><p>Water now supports 16-bit index buffers for hardware that can't
        use 32-bit.</p></li><li><p>Development assert critical message emissions are no longer
        fatal when development assertions are not enabled.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2286"></a>3.&nbsp;Changed Features</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Client spaces are no longer cleared when connecting and
        disconnecting from a server. These spaces should be destroyed
        explicitly in script using the following two functions.</p><pre class="programlisting">
          

    BigWorld.clearSpace( spaceID )

    BigWorld.releaseSpace( spaceID )
        </pre><p>As part of this change <code class="code"> ChunkManager::clearAllSpaces()
        </code> has been deprecated in favour of a new function <code class="code">
        ChunkManager::clearAllServerSpaces() </code> .</p></li><li><p>The camera now has a spaceID property. Setting this to a valid
        non-zero SpaceID will cause the camera to enter that space. This can
        be used even when there is no player entity.</p></li><li><p>Client only entities can now be given physics objects to move
        them around.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2309"></a>4.&nbsp;Known Issues</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Resource files compressed using the WinZip command-line tools
        have known issues with BigWorld resource manager. As a workaround,
        either the WinZip GUI or the 7-Zip command-line tools can be
        used.</p></li><li><p>The chunk culling debug HUD has been disabled, due to a number
        of bugs it introduced.</p></li><li><p>If a player is on a vehicle when that cell goes down, the player
        is repositioned incorrectly.</p></li><li><p>In FantasyDemo, trading with the Merchant may not work when
        running multiple BaseApps. This is caused by the scripts making
        assumptions that the trading Avatar is on the same BaseApp as the
        Merchant.</p></li><li><p>Particle systems are always reflected in water.</p></li><li><p>If there are more than 255 DogWatch manifestions, the timing
        results will be incorrect (i.e. the numbers on the Engine Statistics
        console).</p></li><li><p>Objects with ModelEditor's flag <em class="emphasis"> Model
        Batching </em> flag turned on ignore all lights, except for the
        sunlight.</p></li><li><p>Raindrop simulation and entity interaction water simulation do
        not work at the same time.</p></li><li><p>Decals are not supported on SpeedTrees.</p></li><li><p>Guards and Creatures in FantasyDemo are not cleaned up when
        changing spaces.</p></li><li><p>Printing large strings in Python (such as when using <code class="code">
        gc.get_objects() </code> ) causes the client to crash. <br> This
        can be worked around by replacing the <code class="code"> fprintf(s_file, msg);
        </code> in <code class="code"> PyOutputWriter::py_write() </code> with:
        </p><pre class="programlisting">
            

  for(const char *i = msg; *i != '\0'; i++)

    fwrite(i, sizeof(char), 1, s_file);
          </pre></li><li><p>If a CellApp dies, clients riding <code class="code"> Rippers </code> in that
        cell may suffer a critical error in <code class="code">
        EntityManager::onRestoreClient() </code> .</p></li><li><p>The FlexiCam used for the mouse mode does not perform collision
        detection. <br> As a result it moves through walls, especially in
        indoor chunks.</p></li><li><p>On some machines, there are problems rendering alpha-blended
        triangles when also looking at shimmer items--the alpha-blended
        triangles pick up the shimmer as well.</p></li><li><p>On occasions, there is a slight error in the transform
        calculation of actions using the <code class="code"> IsImpacting </code> flag.
        <br> This manifests itself as a slight rotation inaccuracy.</p></li><li><p>Due to the fact that the server sends compressed information for
        volatile position information to the clients, entities closer to the
        player get more detailed information. <br> This can cause
        stationary entities to move as you approach (or retreat from)
        them.</p></li><li><p>Impacting actions can move the position of an entity without
        considering the collision scene. Therefore, it is possible for an
        impacting action to move an entity inside the collision scene, causing
        the player to become stuck. <br> Care should be taken to avoid
        these situations.</p></li><li><p>Some Python interface properties return copies of their values,
        instead of the actual ones. <br> This can cause confusion when
        modifying part of the copied object, as the value will not be
        modified. <br> For example, the code excerpt below does not affect
        the colour of the spot: <br> <code class="code">
        self.hudTargettingSpots[index].colour[3] = self.lowAlpha
        </code></p></li><li><p>If the Bloom filter is turned off via the graphics settings but
        the graphics hardware supports it, the teleport screen in FantasyDemo
        displays incorrectly.</p></li><li><p>Graphics options defined in .fx files do not currently work.
        They are not registered at load time.</p></li><li><p>Font <code class="code"> .dds </code> files do not generate correctly on some
        ATI based cards. E.g. HD 2900 XT</p></li><li><p>BigWorld does not support multiple client spaces.</p></li></ul></div></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e2423"></a>BigWorld Technology 1.8.2.4 Client Release Notes</h2></div></div><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2426"></a>1.&nbsp;Changed Features/Bug Fixes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Fixed a bug where the action queue would reject a matched action
        when the currently playing action is about to blend out</p></li><li><p>Fixed a <code class="code"> .anca </code> bug where long animations would
        clamp the keyframe deltas to 8 bits</p></li><li><p>Fixed a bug in the actions where a newly started action would
        start on the second frame</p></li><li><p>Fixed a bug where the max framerate setting was only limiting
        every second frame</p></li><li><p>The <code class="code"> VisualCompound </code> now works on hardware that
        only allow 16 bit triangle indices</p></li><li><p>DrawIndexedPrimitiveUP calls have been changed to use regular
        DrawPrimitive calls and with dynamic buffers. The DrawPrimitive*UP
        calls were causing problems on various video cards.</p></li><li><p>Fixed possible issues when using <code class="code">
        BigWorld.spaceLoadStatus() </code> after teleporting between
        spaces.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2460"></a>2.&nbsp;Limitations</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>BigWorld does not support multiple client spaces.</p></li></ul></div></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e2467"></a>BigWorld Technology 1.8.2.3 Client Release Notes</h2></div></div><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2470"></a>1.&nbsp;Changed Features/Bug Fixes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Fixed a bug which meant that the flora would not render on some
        video cards such as the ATI 2600 that report a very large max
        primitives capability</p></li><li><p>Fixed crashes on hardware that only allow 16 bit triangle
        indices</p></li><li><p>The client no longer tries to use table fog when the hardware
        does not support it, vertex fog is used in stead</p></li></ul></div></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e2483"></a>BigWorld Technology 1.8.2.2 Client Release Notes</h2></div></div><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2486"></a>1.&nbsp;Changed Features/Bug Fixes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Added a particles library that was missing in BigWorld 1.8.2.1.
        The missing library was preventing the Client and Tools from being
        able to be compiled.</p></li></ul></div></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e2493"></a>BigWorld Technology 1.8.2.1 Client Release Notes</h2></div></div><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2496"></a>1.&nbsp;Changed Features/Bug Fixes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>dPVS has been replaced with Umbra for occlusion culling. All
        dPVS functionality is still supported, please contact Umbra
        (www.umbra.fi) for evaluation and purchasing information.</p></li><li><p>The client no longer disconnects from the server when
        minimised.</p></li><li><p>Fixed a crash in dynamic chunk item management where it was
        possible for a chunk item to be destroyed whilst still being used
        (caused by bad SmartPointer usage).</p></li><li><p>Fixed a crash in Pixie.createBG.</p></li><li><p>Pixie.createBG now loads the entire system in the background
        thread. This fixes a problem where the use of Pixie.createBG would
        cause a spike in the frame rate.</p></li><li><p>Chunk Particle systems now load the entire system in the
        background thread. This fixes a problem where the use of Chunk
        Particle systems would cause a spike in the frame rate.</p></li><li><p>Updated the sizes of the DirectX state caches in <code class="code"> Moo
        </code> to reflect the enumerations of the November 2007 SDK.</p></li></ul></div></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e2524"></a>BigWorld Technology 1.8.2 Client Release Notes</h2></div></div><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2527"></a>1.&nbsp;New Features</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Added the <code class="code"> startMovingNotifier </code> callback to the
        <code class="code"> ActionMatcher </code> .</p><p>For details, see the <em class="emphasis"> Client Python API
        </em> documentation.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2545"></a>2.&nbsp;Changed Features</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>The GUI system has been changed to mimic more closely
        traditional UI systems -- MouseMove, Enter, Leave, Up/Down and Click
        events are now sent to the top-most GUI component.</p><p>For details on the handling of event by the GUI, see the
        document <em class="emphasis"> Client Programming Guide </em>
        's section <em class="emphasis"> Graphic User Interface-&gt; Input
        Events </em> .</p></li><li><p>Increased the maximum age of particles -- particles that are not
        sunk will now last as long as the particle system stays alive.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2563"></a>3.&nbsp;Bug Fixes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>SpeedTree BSP data now is always correctly calculated.
        Previously, rotated speedtree collision volumes (cubes, spheres) were
        incorrectly aligned.</p></li><li><p>Water destruction is now a more controlled operation -- the
        background tasks were causing issues if a space was then unloaded in
        quick succession.</p></li><li><p>Large bodies of water now do not cause threading issues.</p></li><li><p>Lending has been extended to dynamic objects to remove artifacts
        when crossing over portal boundaries.</p></li><li><p>Switching between full screen and windowed modes via <code class="code"> Alt
        </code> + <code class="code"> Tab </code> now works correctly.</p></li><li><p>Particle systems and alpha-blended objects will now be drawn
        into the water scenes.</p></li><li><p>Materials with the <code class="code"> Don't Render </code> flag will not
        cast shadows anymore.</p></li><li><p>Decal fogging now uses the correct blend modes, and thus
        consistently fogs with the rest of the scene.</p></li><li><p>Internal sorted skinned models now are properly sorted.</p></li><li><p><code class="code"> EffectMaterial </code> now is correctly initialised when
        it is first used in a texture render target.</p></li><li><p>Accessing <code class="code"> Chunk::selfItems_ </code> from different
        threads without synchronisation now works correctly.</p></li><li><p>Models that share <code class="code"> .animation </code> files will now
        generate their <code class="code"> .anca </code> files correctly.</p></li><li><p>Compressed animation files <code class="code"> [.anca] </code> are now
        truncated after being modified, which fixes potential issues when
        these files shrink.</p></li><li><p>Python console will now report a ZeroDivisionError when the
        following statement is entered: <code class="code"> print 'blah', 6/0 </code> .
        Previously, no error was reported.</p></li><li><p>Having shader properties of the same name in multiple materials
        now works correctly. This fixes a bug using SuperModels containing two
        sub-models that share the same material shader; previously the
        sub-models were rendered using whatever the last dye was that had been
        applied.</p></li><li><p>Improved stability by ensuring that Python is used only in the
        main thread.</p></li><li><p>Fixed inaccurate mouse cursor when in full screen mode in some
        configurations ( <em class="emphasis"> e.g. </em> , widescreen
        displays).</p></li><li><p>The mouse cursor is now displayed immediately when activated in
        script.</p></li><li><p>The <code class="code"> DogWatch::slice </code> method no longer crashes if
        the watch has not been started.</p></li><li><p>The <code class="code"> BinaryFile </code> class now checks for bad length --
        the <code class="code"> read </code> method uses the correct type ( <code class="code"> size_t
        </code> ) for lengths and sizes.</p></li><li><p><code class="code"> loadingScreenGUI </code> now is added to the GUI root
        only once. This removes a warning message that was printed to debug
        output every run.</p></li><li><p>Instances of <code class="code"> CueChannel </code> no longer skip
        cues.</p></li><li><p>Stopping a <code class="code"> DogWatch </code> that has not been started no
        longer corrupts memory.</p></li><li><p>The personality script's initialisation now allows the setting
        of the mouse cursor.</p></li><li><p>Text GUI components with empty text now are assigned proper
        width and height values.</p></li><li><p>Sky gradient rendering on NVIDIA G80 (8800, 8600) hardware now
        always works correctly. Previously random pixels would be
        missed.</p></li><li><p>Locally dependent particle systems now are rendered correctly.
        Previously, If they were attached to a model's node then they were
        either incorrectly scaled or for trail particles, were stretching from
        the node to the origin.</p></li><li><p>Particle systems with large velocities, ages, sizes and spin
        angles now ensure that their values get capped and dont wrap around in
        the case of uints.</p></li><li><p>Water mesh index creation no longer causes artifacts when the
        first usable vertex is not at the start of the list.</p></li><li><p>Shadow code no longer causes the client to crash when run on pre
        shader model 2.0 hardware</p></li><li><p>Fixed a potential crash when printing a warning message for
        billboard models with no material.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2709"></a>4.&nbsp;Known Issues</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Resource files compressed using the WinZip command-line tools
        have known issues with BigWorld resource manager. As a workaround,
        either the WinZip GUI or the 7-Zip command-line tools can be
        used.</p></li><li><p>The chunk culling debug HUD has been disabled, due to a number
        of bugs it introduced.</p></li><li><p>If a player is on a vehicle when that cell goes down, the player
        is repositioned incorrectly.</p></li><li><p>Some resources (such as particle systems) loaded from chunks
        also cause loads in the rendering frame, possibly affecting the frame
        rate. (Particle systems fixed in 1.8.2.1)</p></li><li><p>Particle systems do not fully load in the background thread
        using prequisites. In BigWorld 1.8.2.1 and later you should use
        Pixie.createBG instead.</p></li><li><p>In FantasyDemo, trading with the Merchant may not work when
        running multiple BaseApps. This is caused by the scripts making
        assumptions that the trading Avatar is on the same BaseApp as the
        Merchant.</p></li><li><p>Particle systems are always reflected in water.</p></li><li><p>If there are more than 255 DogWatch manifestions, the timing
        results will be incorrect (i.e. the numbers on the Engine Statistics
        console).</p></li><li><p>Objects with ModelEditor's flag <em class="emphasis"> Model
        Batching </em> flag turned on ignore all lights, except for the
        sunlight.</p></li><li><p>Raindrop simulation and entity interaction water simulation do
        not work at the same time.</p></li><li><p>Decals are not supported on SpeedTrees.</p></li><li><p>Guards and Creatures in FantasyDemo are not cleaned up when
        changing spaces.</p></li><li><p>Printing large strings in Python (such as when using <code class="code">
        gc.get_objects() </code> ) causes the client to crash. <br> This
        can be worked around by replacing the <code class="code"> fprintf(s_file, msg);
        </code> in <code class="code"> PyOutputWriter::py_write() </code> with:
        </p><pre class="programlisting">
            
  for(const char *i = msg; *i != '\0'; i++)
    fwrite(i, sizeof(char), 1, s_file);
          </pre></li><li><p>If a CellApp dies, clients riding <code class="code"> Rippers </code> in that
        cell may suffer a critical error in <code class="code">
        EntityManager::onRestoreClient() </code> .</p></li><li><p>The FlexiCam used for the mouse mode does not perform collision
        detection. <br> As a result it moves through walls, especially in
        indoor chunks.</p></li><li><p>On some machines, there are problems rendering alpha-blended
        triangles when also looking at shimmer items--the alpha-blended
        triangles pick up the shimmer as well.</p></li><li><p>On occasions, there is a slight error in the transform
        calculation of actions using the <code class="code"> IsImpacting </code> flag.
        <br> This manifests itself as a slight rotation inaccuracy.</p></li><li><p>Due to the fact that the server sends compressed information for
        volatile position information to the clients, entities closer to the
        player get more detailed information. <br> This can cause
        stationary entities to move as you approach (or retreat from)
        them.</p></li><li><p>Impacting actions can move the position of an entity without
        considering the collision scene. Therefore, it is possible for an
        impacting action to move an entity inside the collision scene, causing
        the player to become stuck. <br> Care should be taken to avoid
        these situations.</p></li><li><p>Some Python interface properties return copies of their values,
        instead of the actual ones. <br> This can cause confusion when
        modifying part of the copied object, as the value will not be
        modified. <br> For example, the code excerpt below does not affect
        the colour of the spot: <br> <code class="code">
        self.hudTargettingSpots[index].colour[3] = self.lowAlpha
        </code></p></li><li><p>If the Bloom filter is turned off via the graphics settings but
        the graphics hardware supports it, the teleport screen in FantasyDemo
        displays incorrectly.</p></li><li><p>Graphics options defined in .fx files do not currently work.
        They are not registered at load time.</p></li><li><p>Font <code class="code"> .dds </code> files do not generate correctly on some
        ATI based cards. E.g. HD 2900 XT</p></li></ul></div></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e2826"></a>BigWorld Technology 1.8.1 Client Release Notes</h2></div></div><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2829"></a>1.&nbsp;New Features</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Added the document <em class="emphasis"> How to Avoid Files
        Being Loaded in the Main Thread </em> .</p></li><li><p>Added API in the <code class="code"> BSPTree </code> class to store/retrieve
        user data in/from the BSPTree file. <br> Documented in the
        <em class="emphasis"> Client C++ API </em> reference
        guide.</p></li><li><p>Added <code class="code"> BigWorld.connectedEntity </code> method, which
        returns the entity that the application is connected to. <br> The
        connected entity is the server entity that is responsible for
        collecting and sending data to the client application. It is also the
        only client entity that has an <code class="code"> Entity.base </code> property.
        <br> Documented in the <em class="emphasis"> Client Python API
        </em> reference guide, entry <em class="emphasis">
        Modules-&gt;BigWorld </em> .</p></li><li><p>Added the <code class="code"> PyModule_Hybrid </code> configuration for the
        client's Visual C++ 2003 solution and project files.</p></li><li><p>Added a number of culling debug helpers, including counter
        watchers ( <code class="code"> /Chunks/Counters </code> ), rendering of visibility
        bounding boxes for chunks (activated via <code class="code"> /Chunks/Visibility
        Bounding Boxes </code> ) and a chunk culling debug HUD (activated via
        <code class="code"> Chunks/Chunk Culling HUD </code> ).</p></li><li><p>In FantasyDemo, added the <code class="code"> F10 </code> keyboard shortcut,
        to hide the loading screen and start rendering the scene
        immediately.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2893"></a>2.&nbsp;Changed Features</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>The water scene render target size is now linked to the graphics
        options. <br> This means that the water renderisation will also be
        customisable via the graphics options, instead of allocating a
        pre-specified amount of render target.</p></li><li><p>The default <code class="code"> Guest </code> account when logging into
        FantasyDemo was removed. <br> The account name is now persisted
        across runs of the program.</p></li><li><p>Generation of <code class="code"> .bsc </code> browse information files is
        now disabled by default when building the client, because partial
        rebuilts often caused internal compiler error.</p></li><li><p>Removed unused <code class="code"> NO_LOADING_THREAD </code> pre-processor
        option.</p></li><li><p>Added support for multiplying <code class="code"> PyVector2 </code> , <code class="code">
        PyVector3 </code> , and <code class="code"> PyVector4 </code> by <code class="code"> float
        </code> .</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2937"></a>3.&nbsp;Bug Fixes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Fixed <code class="code"> PyObject </code> leak in <code class="code"> Entity </code>
        class.</p></li><li><p><code class="code"> StringMap </code> now supports Chinese strings.</p></li><li><p>Fixed bug in <code class="code"> hitTest </code> function in <code class="code">
        SimpleGUIComponent </code> .</p></li><li><p>Client now restores the mouse cursor when it loses focus.</p></li><li><p>Fixed a memory retention inefficiency problem in SpeedTree
        integration with BigWorld.</p></li><li><p>SpeedTree fronds' back faces now correctly render with flipped
        normals.</p></li><li><p>BSP2 files for SpeedTrees are now only regenerated if the
        collision geometry in the SPT file is different from the one used to
        compile the current BSP tree.</p></li><li><p>The <code class="code"> ShadowManager </code> , <code class="code"> EntityPicker </code> ,
        and <code class="code"> EntityDirProvider </code> classes now keep weakrefs to
        their entities, instead of a full one, avoiding circular references
        that prevented the player Avatar from being destroyed.</p></li><li><p>The <code class="code"> EntityManager </code> now clears the <code class="code"> __dict__
        </code> attribute of an entity before permanently disposing it -- this
        breaks most circular references.</p></li><li><p>Fixed concurrency problem in the <code class="code"> BinSection </code> class
        that caused client to crash.</p></li><li><p>The client now looks for the <code class="code"> paths.xml </code> and <code class="code">
        options.xml </code> files in the executable folder, instead of looking
        in the current working directory.</p></li><li><p>Fixed compilations warnings about deprecated functions when
        compiling in debug mode.</p></li><li><p>Fixed a memory retention problem where destroyed visuals would
        not destroy their BSPs.</p></li><li><p>Fixed bug that caused two instances of a managed texture object
        to point to the same texture resource.</p></li><li><p>Fixed a problem in the login scripts that caused FantasyDemo to
        pause in the <code class="code"> "Retrieving Character" </code> screen.</p></li><li><p>Actions of lower LOD models no longer take precedence over the
        supermodel's higher LOD model actions.</p></li><li><p>Changed the chunk culling on non-dPVS builds so that culling is
        no longer done on the chunk bounding box (which stretches to infinity)
        but on the visibility bounding box instead.</p></li><li><p>SpeedTrees's billboard optimiser will now be turned off if
        batched rendering is disabled.</p></li><li><p>Fixed a bug in the client that caused ray cast collision tests
        to sometimes fail ( <em class="emphasis"> e.g. </em> , over the wooden
        bridge in FantasyDemo). This caused other players to fall through the
        scenery.</p></li><li><p>Fixed frame rate stalls that occurred when loading chunks
        related to the setup of dPVS data (only affects dPVS-enabled
        builds).</p></li><li><p>Fixed a problem where <code class="code"> BigWorld.base </code> was supported
        by the entity controlled by the client application instead of the
        entity that the application is connected to. <br> For example, when
        riding a Ripper in FantasyDemo, <code class="code"> base </code> was supported by
        the Ripper when it should be supported by the original Avatar.</p></li><li><p>Python code that is not thread-safe now is executed in the main
        thread, instead of the loading one, which could cause the client to
        crash.</p></li><li><p>Fixed a possible client crash with <code class="code"> operator *= </code> on
        <code class="code"> PyVector2 </code> , <code class="code"> PyVector3 </code> and <code class="code">
        PyVector4 </code> .</p></li><li><p>Portals no longer have issues when locked to a position that is
        not axis-aligned. Previously, the portal would be placed offset to the
        shell.</p></li><li><p>In FantasyDemo: </p><div class="itemizedlist"><ul type="circle"><li><p>Updated login error messages to correctly report all error
              codes returned from the connect function.</p></li><li><p>Fixed a problem that caused two copies of Avatar model to
              be visible when hopping off the Ripper.</p></li><li><p>Fixed circular references in Python that caused the player
              Avatar to leak.</p></li><li><p>Fixed a bug where the FantasyDemo client could potentially
              be left in a bad state if the connection to the server was lost
              before the player had entered the world.</p></li><li><p>The player can no longer walk through the station
              platforms.</p></li></ul></div></li></ul></div></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e3096"></a>BigWorld Technology 1.8 Client Release Notes</h2></div></div><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e3099"></a>1.&nbsp;Important Notes</h2></div></div></div><p>BigWorld now includes all standard Python modules. <br> They are
    located in <code class="code"> bigworld/res/entities/common/Lib </code> (and <code class="code">
    bigworld/res/entities/common/lib-dynload </code> on Linux).</p><p>If you have added any standard Python modules to the resource tree
    of your game, then it is recommended that you remove them, in order to
    avoid conflicts with the modules that are now included with BigWorld
    1.8.</p><p>For example, in FantasyDemo, standard modules in <code class="code">
    fantasydemo/res/entities/common/Lib </code> and <code class="code">
    fantasydemo/res/entities/common/lib-dynload </code> have been
    removed.</p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e3122"></a>2.&nbsp;New Features</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Added the following documents:</p><div class="itemizedlist"><ul type="circle"><li><p><em class="emphasis"> File Grammar Guide </em></p></li><li><p><em class="emphasis"> How to Build a Server-Controlled
            Moving Platform </em></p></li><li><p><em class="emphasis"> How to Build Vehicles
            </em></p></li><li><p><em class="emphasis"> How to Move Entities
            </em></p></li></ul></div></li><li><p>Integrated SpeedTreeRT for realistic rendering of trees.
        <br></p><p>Documented in <em class="emphasis"> Content Tools Reference
        Guide </em> , <em class="emphasis"> WorldEditor </em>
        chapter, section <em class="emphasis"> SpeedTree </em> .
        <br> Documented also in the <em class="emphasis"> Content Creation
        Manual </em> , lesson <em class="emphasis"> Using SpeedTree in
        the BigWorld engine </em> , and lesson <em class="emphasis">
        Best Practices </em> , section <em class="emphasis"> Using
        SpeedTree </em> .</p></li><li><p>Integrated dPVS for occlusion culling of objects in the client
        engine. <br></p><p>Documented in <em class="emphasis"> Client Programming Guide
        </em> , <em class="emphasis"> BigWorld dPVS integration
        </em> chapter.</p></li><li><p>Integrated FMOD for sound support. <br></p><p>Documented in <em class="emphasis"> Client Programming Guide
        </em> , <em class="emphasis"> Sounds </em>
        chapter.</p></li><li><p>Added a new water rendering system. <br></p><p>Documented in <em class="emphasis"> Client Programming Guide
        </em> , <em class="emphasis"> Water </em> chapter.</p></li><li><p>Added a <em class="emphasis"> Graphics Settings </em> facility to the
        engine. <br></p><p>Documented in <em class="emphasis"> Client Programming Guide
        </em> , <em class="emphasis"> 3D Engine (Moo) </em>
        chapter, section <em class="emphasis"> Graphics Settings </em>
        .</p></li><li><p>Added support for interactive Python debugging for the client
        scripts. <br></p><p>Documented in <em class="emphasis"> Client Programming Guide
        </em> , <em class="emphasis"> Scripting </em> chapter,
        section <em class="emphasis"> Scripts </em> , <em class="emphasis"> Interactive debugging </em> .</p></li><li><p>Multiple improvements were made to flora distribution,
        especially for larger flora vertex buffer sizes, such as:</p><div class="itemizedlist"><ul type="circle"><li><p>Ecotype now is decided per visual, instead of per 4-metre
            block.</p></li><li><p>Added position blur and ecotype blur -- this antialiases the
            data and removes the <em class="emphasis"> blockiness </em> of <code class="code">
            FloraBlock </code> s.</p></li><li><p>Added optional <em class="emphasis"> density </em> parameter on a
            per-ecotype basis.</p></li><li><p>Added optional <em class="emphasis"> scale variation </em> on a
            per-visual basis</p></li></ul></div><p>Documented in <em class="emphasis"> Client Programming Guide
        </em> , <em class="emphasis"> 3D Engine (Moo) </em>
        chapter, section <em class="emphasis"> Graphics setting </em> ,
        <em class="emphasis"> Customising options </em> . <br>
        Grammar of flora configuration file is documented in <em class="emphasis"> File Grammar Guide </em> , <em class="emphasis">
        File List </em> chapter, section <code class="code">
            <em class="emphasis">&lt;flora.xml&gt;</em>
          </code> .</p></li><li><p>Improvements were made to flora rendering and
        performance:</p><div class="itemizedlist"><ul type="circle"><li><p>Added entity shadowing onto flora.</p></li><li><p>The distance of alpha-tested and alpha-blended flora that is
            drawn can now be set.</p></li><li><p>Flora texture atlas management is now multi-threaded, to
            avoid a slight pause to the rendering thread when a new texture is
            loaded.</p></li></ul></div><p>Documented in <em class="emphasis"> Client Programming Guide
        </em> , <em class="emphasis"> 3D Engine (Moo) </em>
        chapter, section <em class="emphasis"> Graphics setting </em> .
        <br> Grammar of flora configuration file is documented in <em class="emphasis"> File Grammar Guide </em> , <em class="emphasis">
        File List </em> chapter, section <code class="code">
            <em class="emphasis">&lt;flora.xml&gt;</em>
          </code> .</p></li><li><p>Added the ability to save into an XML file the user preferences
        for video and graphics settings, as well as game preferences.
        <br></p><p>Preferences are defined and described in <code class="code"> <em class="emphasis">
        &lt;preferences&gt; </em> .xml </code> file. <br> File is
        documented in <em class="emphasis"> Client Programming Guide
        </em> , <em class="emphasis"> Overview </em> chapter,
        section <em class="emphasis"> Configuration Files </em> ,
        <em class="emphasis"> File <code class="code"> <em class="emphasis"> &lt;preferences&gt;
        </em> .xml </code> </em> .</p></li><li><p>The font name for consoles is now configurable via <code class="code">
        resources.xml </code> -- in <code class="code"> system </code> section's <code class="code">
        consoleFont </code> tag. <br></p><p>The complete list of resources and values used by BigWorld is
        documented in the <code class="code"> resources.xml </code> file provided with the
        distribution. <br> File is documented in <em class="emphasis">
        Client Programming Guide </em> , <em class="emphasis"> Overview
        </em> chapter, section <em class="emphasis"> Configuration
        Files </em> , <em class="emphasis"> File <code class="code"> resources.xml
        </code> </em> .</p></li><li><p>The snow, cold breath, and rain splash particle systems can now
        be customised via entries in <code class="code"> resources.xml </code> .
        <br></p><p>The complete list of resources and values used by BigWorld is
        documented in the <code class="code"> resources.xml </code> file provided with the
        distribution. <br> File is documented in <em class="emphasis">
        Client Programming Guide </em> , <em class="emphasis"> Overview
        </em> chapter, section <em class="emphasis"> File <code class="code">
        resources.xml </code> </em> .</p></li><li><p>Added <code class="code"> EnvironmentTransform </code> <code class="code">
        EffectConstantValue </code> , which is the view/projection matrix with
        the translation removed. <br> This allows the programmer to author
        skybox style effects, such as a mountain box or other background
        images that always draw at the same distance from the camera.
        <br></p><p><code class="code"> EffectConstantValue </code> is documented in <em class="emphasis"> Client Programming Guide </em> , <em class="emphasis"> 3D Engine (Moo) </em> chapter, section <em class="emphasis"> <code class="code"> EffectMaterial </code> </em> , <em class="emphasis"> Automatic Variables/Globals </em> .</p></li><li><p>Added <code class="code"> FogEnabled </code> <code class="code"> EffectConstantValue
        </code> , for pixel shaders that implement custom fogging.
        <br></p><p><code class="code"> EffectConstantValue </code> is documented in <em class="emphasis"> Client Programming Guide </em> , <em class="emphasis"> 3D Engine (Moo) </em> chapter, section <em class="emphasis"> <code class="code"> EffectMaterial </code> </em> , <em class="emphasis"> Automatic Variables/Globals </em> .</p></li><li><p>Added support for sky boxes, which can be added to a space via
        WorldEditor. <br> Please note that sky boxes are static, <em class="emphasis">
        i.e. </em> , they are not lit. <br></p><p>Documented in <em class="emphasis"> Content Tools Reference
        Guide </em> , <em class="emphasis"> WorldEditor </em>
        chapter, section <em class="emphasis"> Environment Options Panel
        </em> and in the <em class="emphasis"> Content Creation Manual
        </em> , <em class="emphasis"> Change Environmental Settings
        </em> lesson.</p></li><li><p>Added support for the Sky Gradient Dome on GeForce 4MX.
        <br></p><p>Documented in <em class="emphasis"> Client Programming Guide
        </em> , <em class="emphasis"> 3D Engine (Moo) </em>
        chapter, section <em class="emphasis"> Hardware requirements for
        special effects </em> and in the <em class="emphasis"> Content
        Creation Manual </em> , <em class="emphasis"> Change
        Environmental Settings </em> lesson.</p></li><li><p>Added the effects below, which use a mask map to provide
        4-colour customisation: <br></p><div class="itemizedlist"><ul type="circle"><li><p><code class="code"> colourise_add.fx </code></p></li><li><p><code class="code"> colourise_lightonly_skinned.fx </code></p></li><li><p><code class="code"> colourise_subsurface_skinned.fx </code></p></li><li><p><code class="code"> colourise_character_lighting_specmap_skinned.fx.
            </code></p></li></ul></div><p>Documented in the <em class="emphasis"> Content Creation Manual
        </em> , <em class="emphasis"> BigWorld Shaders And Materials
        </em> lesson.</p></li><li><p>Added effects that use a cubemap for per-pixel reflection, based
        on a surface normal map:</p><div class="itemizedlist"><ul type="circle"><li><p><code class="code"> character_lighting_chrome.fx </code></p></li><li><p><code class="code"> character_lighting_chrome_skinned.fx </code></p></li><li><p><code class="code"> character_lighting_chrome_hardskinned.fx
            </code></p></li></ul></div><p>Documented in the <em class="emphasis"> Content Creation Manual
        </em> , <em class="emphasis"> BigWorld Shaders And Materials
        </em> lesson.</p></li><li><p>Added <code class="code"> character_lighting_alpha.fx </code> effect variant
        for alpha blending with normal mapped lighting. <br></p><p>Documented in the <em class="emphasis"> Content Creation Manual
        </em> , <em class="emphasis"> BigWorld Shaders And Materials
        </em> lesson.</p></li><li><p>Added <code class="code"> spintoface_add.fx </code> effect, which spins the
        object around the y-axis, to always face the camera. <br></p><p>Documented in the <em class="emphasis"> Content Creation Manual
        </em> , <em class="emphasis"> BigWorld Shaders And Materials
        </em> lesson.</p></li><li><p>Added methods to access shader properties stored in <code class="code">
        EffectMaterial </code> s. <br></p><div class="itemizedlist"><ul type="circle"><li><p><code class="code"> EffectMaterial::getProperty </code></p></li><li><p><code class="code"> EffectMaterial::boolProperty </code></p></li><li><p><code class="code"> EffectMaterial::intProperty </code></p></li><li><p><code class="code"> EffectMaterial::floatProperty </code></p></li><li><p><code class="code"> EffectMaterial::vectorProperty </code></p></li></ul></div><p>Documented in the <em class="emphasis"> Client C++ API
        </em> reference guide.</p></li><li><p>The <code class="code"> RenderContext </code> class now wraps <code class="code">
        IDirect3DDevice9::BeginScene </code> and <code class="code">
        IDirect3DDevice9::EndScene </code> , so that begin/end scene calls can
        be nested.</p><p>Documented in the <em class="emphasis"> Client C++ API
        </em> reference guide.</p></li><li><p>Added <code class="code"> Font::draw3DString </code> method, which draws text
        in world coordinates. <br></p><p>Documented in the <em class="emphasis"> Client C++ API
        </em> reference guide.</p></li><li><p>Added <code class="code"> TextureManager::setFormatability </code> method,
        which programmatically sets texture format. <br></p><p>Documented in the <em class="emphasis"> Client C++ API
        </em> reference guide.</p></li><li><p>Added <code class="code"> TextureAggregator </code> texture atlas class,
        which aggregates separate maps into a single texture. <br></p><p>Documented in the <em class="emphasis"> Client C++ API
        </em> reference guide.</p></li><li><p>Added the linear interpolation function <code class="code"> Vector3::lerp
        </code> . <br></p><p>Documented in the <em class="emphasis"> Client C++ API
        </em> reference guide.</p></li><li><p>Added <code class="code"> LineHelper </code> class, used for rendering debug
        lines. <br></p><p>Documented in the <em class="emphasis"> Client C++ API
        </em> reference guide.</p></li><li><p>Several functions to control the video device have been exposed
        to Python: <br></p><div class="itemizedlist"><ul type="circle"><li><p><code class="code"> BigWorld.listVideoModes </code></p></li><li><p><code class="code"> BigWorld.setVideoVSync </code></p></li><li><p><code class="code"> BigWorld.videoModeIndex </code></p></li><li><p><code class="code"> BigWorld.changeFullScreenAspectRatio </code></p></li><li><p><code class="code"> BigWorld.changeVideoMode </code></p></li></ul></div><p>Documented in the <em class="emphasis"> Client Python API
        </em> reference guide.</p></li><li><p>Added Python access to material kind data, via <code class="code">
        BigWorld.getMaterialKinds </code> . <br> This method returns a list
        of ( <code class="code">
            <em class="emphasis">id</em>
          </code> , <code class="code">
            <em class="emphasis">datasection</em>
          </code> ), where <code class="code">
            <em class="emphasis">datasection</em>
          </code> contains whatever data your game needs to associate per
        material kind. <br></p><p>Documented in <em class="emphasis"> Client Python API
        </em> reference guide.</p></li><li><p><code class="code"> Entity.physics </code> can now be set in offline mode.
        <br> This enables entities in offline mode to be moved using the
        mechanisms available through the <code class="code"> Physics </code> object,
        including <code class="code"> chase </code> , <code class="code"> teleport </code> , and <code class="code">
        seek </code> . <br></p><p>Documented in the <em class="emphasis"> Client Python API
        </em> reference guide.</p></li><li><p>Callbacks created using <code class="code"> BigWorld.callback() </code> can
        now be cancelled using <code class="code"> BigWorld.cancelCallback() </code> .
        <br></p><p>Documented in <em class="emphasis"> Client Python API
        </em> reference guide.</p></li><li><p>Added <code class="code"> PyChunkSpotlight </code> Python interface, for
        using spot lights. <br></p><p>Documented in <em class="emphasis"> Client Python API
        </em> reference guide.</p></li><li><p>Added <code class="code"> BigWorld.destroyEntity </code> method to destroy
        client-only entities. <br></p><p>Documented in the <em class="emphasis"> Client Python API
        </em> reference guide.</p></li><li><p>Added <code class="code"> SimpleGUIComponent.filterType </code> property.
        <br></p><p>Documented in the <em class="emphasis"> Client Python API
        </em> reference guide.</p></li><li><p>Added <code class="code"> Geometrics::createRectMesh </code> utility function
        for XYZUV vertices. <br> This is in addition to the other two
        existing <code class="code"> createRectMesh </code> functions that operate on
        different vertex formats. <br></p><p>Documented in <code class="code"> src/lib/romp/geometrics.?pp </code>
        .</p></li><li><p>Added <code class="code"> Colour::luminance </code> utility function,
        calculated from the xyz (RGB) members of a <code class="code"> Vector4 </code> .
        <br></p><p>Documented in <code class="code"> src/lib/math/colour.hpp </code> .</p></li><li><p>Added various watchers under <code class="code"> Debug/Frame Logger </code> ,
        for frame-time statistics logging capabilities. <br></p><p>Documented in <code class="code"> src/lib/romp/frame_logger.cpp </code>
        .</p></li><li><p>Added watcher <code class="code"> Render/Draw Node Labels </code> , which
        toggles the rendering of models' nodes' labels. <br></p><p>Documented in <code class="code"> bigworld/src/client/app.cpp </code>
        .</p></li><li><p>Added compile guards, to remove development code from consumer
        builds of the client. <br> Features removed from these builds
        include the watchers and Python console. <br></p><p>Documented in <em class="emphasis"> Client Programming Guide
        </em> , <em class="emphasis"> Debugging </em> chapter,
        section <em class="emphasis"> Build Configuration -- Conditional
        Feature Inclusion </em> .</p></li><li><p>Added a mechanism to take screenshots at resolutions greater
        than can be displayed by the monitor. <br></p><p>Documented in <em class="emphasis"> Client Programming Guide
        </em> , <em class="emphasis"> 3D Engine (Moo) </em>
        chapter, section <em class="emphasis"> High-Resolution Screenshots
        </em> .</p></li><li><p>Added memory usage limit to the streamed animations. <br> The
        client now ejects old pieces of animation data, to keep its memory
        usage below the specified limit. <br></p><p>Documented in <em class="emphasis"> Client Programming Guide
        </em> , <em class="emphasis"> Animation System </em>
        chapter, section <em class="emphasis"> Animation Data Streaming
        </em> .</p></li><li><p>Added a resource leak debugging option <code class="code"> debug/framesCount
        </code> to <code class="code"> <em class="emphasis"> &lt;engine_config&gt; </em> .xml
        </code> . <br></p><p>File is documented in <em class="emphasis"> Client Programming
        Guide </em> , <em class="emphasis"> Overview </em>
        chapter, section <em class="emphasis"> Configuration Files
        </em> , <em class="emphasis"> File <code class="code"> <em class="emphasis">
        &lt;engine_config&gt; </em> .xml </code> . </em></p></li><li><p>Added to FantasyDemo an example of a <code class="code"> MovingPlatform
        </code> , which can be ridden by players and follows a path defined in
        WorldEditor. <br></p><p>Documented in <em class="emphasis"> How to Build a
        Server-Controlled Moving Platform </em> . <br> Definition of
        patrol paths via WorldEditor is documented in <em class="emphasis">
        Content Tools Reference Guide </em> , <em class="emphasis">
        WorldEditor </em> chapter, section <em class="emphasis"> Useful
        Notes </em> , <em class="emphasis"> Patrol Path Editing
        </em> .</p></li><li><p>Added visibility box to models. <br> ModelEditor
        automatically saves the visibility box based on the aggregated sum of
        bounding boxes for all animations. <br> This feature is useful for
        visibility checks and for determining the box to use when casting
        shadows. <br> It also helps improve performance in the engine, by
        negating the need for off-screen animating objects to perform their
        per-frame update.</p></li><li><p>Watchers can now have comments, which are displayed at the
        bottom of the Watcher screen (accessed via <code class="code"> Caps Lock+F7 </code>
        keyboard shortcut).</p></li><li><p>The moon now casts shadows and provides a specular light source.
        <br> This improves the look of the scene at nighttime.</p></li><li><p>Added DirectX Resource Manager viewing and logging. <br> Only
        enabled if using DirectX debug runtimes. <br> Viewable via the
        <em class="emphasis"> Engine Statistics </em> page, which is
        activated via <code class="code"> Caps LocK+F5 </code> keyboard shortcut.</p></li><li><p>In FantasDemo, <em class="emphasis"> account </em> has been
        dissociated from <em class="emphasis"> character </em> . <br> During
        login into a FantasyDemo server, user will enter an account name
        before being presented with a screen for character selection. <br>
        Each account can have multiple characters, each with a globally unique
        name and persistent inventory.</p></li><li><p>In FantasyDemo, added example of changing colours of various
        parts of the ranger's clothing, using <code class="code"> Ctrl+V </code> and <code class="code">
        Ctrl+B </code> .</p></li><li><p>In FantasyDemo, world drawing is now disabled while teleporting
        between spaces, for decreased loading times.</p></li><li><p>Added material kind support to the terrain. <br> This allows
        different footstep sounds to be played for different ground types, or
        display different particle systems when the ground is hit.</p></li><li><p>Rain can now be viewed from inside.</p></li><li><p><code class="code"> ProcessOutstandingMessages </code> is now called at each
        progress tick on startup. <br> This means that you can resize or
        <code class="code"> Alt+Tab </code> back to an initialising client to regain
        focus.</p></li><li><p>Added fresnel reflection parameters to the chrome shaders.
        <br> This allows the surface reflections to fall off based on
        viewing angle and surface normal, resulting in dim reflections on
        surfaces facing the camera, and much brighter reflection on the angled
        faces.</p></li><li><p>Added a fresnel term to the terrain specular. <br> This is a
        configurable parameter that can be used to remove the excess specular
        highlights on terrain close to, and facing the camera.</p></li><li><p>Added new artist-editable texture blending operations to the
        <code class="code"> _alpha </code> and <code class="code"> _add </code> shaders.</p></li><li><p>Added support for cubemaps loading from <code class="code"> .dds </code>
        files.</p></li><li><p>Added artist-editable alpha test options to the normal mapped
        lighting shaders.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e4139"></a>3.&nbsp;Changed Features</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Python 2.5 is now integrated into BigWorld. <br> See
        Python.org's What's new in Python 2.5.</p></li><li><p>All standard Python modules are now part of the BigWorld
        package. <br> Previously, only modules required by BigWorld were in
        the package.</p></li><li><p>All effects can now be optionally cached at startup. <br>
        This optional flag can be set in <code class="code"> <em class="emphasis">
        &lt;engine_config&gt; </em> .xml </code> . <br> Options are
        defined and described in <code class="code"> <em class="emphasis"> &lt;engine_config&gt;
        </em> .xml </code> file's <code class="code"> debug </code> section.
        <br></p><p>File is documented in <em class="emphasis"> Client Programming
        Guide </em> , <em class="emphasis"> Overview </em>
        chapter, section <em class="emphasis"> Configuration Files
        </em> , <em class="emphasis"> File <code class="code"> <em class="emphasis">
        &lt;engine_config&gt; </em> .xml </code> . </em></p></li><li><p>The <code class="code"> bigworld.xml </code> file has been superseded by
        <code class="code">
            <em class="emphasis">&lt;engine_config.xml&gt;</em>
          </code> and <code class="code">
            <em class="emphasis">&lt;script_config.xml&gt;</em>
          </code> . <br></p><p>Documented in <em class="emphasis"> Client Programming Guide
        </em> , <em class="emphasis"> Overview </em> chapter,
        section <em class="emphasis"> Configuration Files </em>
        .</p></li><li><p>Moved shadow settings from <code class="code"> bigworld.xml </code> to its
        own configuration file ( <code class="code"> shadows.xml </code> ). <br></p><p>Documented in <em class="emphasis"> File Grammar Guide
        </em> , <em class="emphasis"> File List </em> chapter,
        section <em class="emphasis"> <code class="code"> shadows.xml </code> </em>
        .</p></li><li><p>Changed name of <code class="code"> Flora::reset </code> method to <code class="code">
        Flora::floraReset </code> , so that the Python API is more intuitive.
        <br> Calls will now read <code class="code"> BigWorld.floraReset() </code> ,
        instead of just <code class="code"> BigWorld.reset() </code> . <br></p><p>Documented in <em class="emphasis"> Client Python API
        </em> reference guide.</p></li><li><p>The Ripper vehicle has been rewritten, to be a clearer learning
        example. <br></p><p>Documented in <em class="emphasis"> How to Build Vehicles
        </em> .</p></li><li><p>The <code class="code"> BoundingBox </code> constructor now initialises the
        bounding box to a valid <em class="emphasis"> inside out </em> state.
        <br></p><p>Documented in <em class="emphasis"> Client C++ API </em>
        reference guide.</p></li><li><p>Replaced <code class="code"> BoundingBox </code> setting functions <code class="code">
        minBounds </code> and <code class="code"> maxBounds </code> with a single <code class="code">
        setBounds </code> one. <br></p><p>Documented in <em class="emphasis"> Client C++ API </em>
        reference guide.</p></li><li><p>Renamed <code class="code"> addBounds( <em class="emphasis"> &lt;float&gt; </em> )
        </code> to the more descriptive <code class="code"> addYBounds( <em class="emphasis">
        &lt;float&gt; </em> ) </code> . <br></p><p>Documented in <em class="emphasis"> Client C++ API </em>
        reference guide.</p></li><li><p>The order of the <code class="code"> Entity.onBecomeNonPlayer </code> and
        <code class="code"> Entity.leaveWorld </code> callbacks for the player entity has
        been changed. <br> Previously, the player entity would receive the
        following sequence of callbacks: <br></p><div class="itemizedlist"><ul type="circle"><li><p><code class="code"> Entity.onBecomePlayer </code> -&gt; <code class="code">
            Entity.enterWorld </code> -&gt; <code class="code"> Entity.onBecomeNonPlayer
            </code> -&gt; <code class="code"> Entity.leaveWorld </code></p></li></ul></div><p>Now, the player entity will receive the following sequence of
        callbacks: <br></p><div class="itemizedlist"><ul type="circle"><li><p><code class="code"> Entity.onBecomePlayer </code> -&gt; <code class="code">
            Entity.enterWorld </code> -&gt; <code class="code"> Entity.leaveWorld </code>
            -&gt; <code class="code"> Entity.onBecomeNonPlayer </code></p></li></ul></div><p>With this new ordering, the <code class="code"> leaveWorld </code> method of
        the derived player class will be called, instead of the base class one
        (this was the case because the entity had already become a
        non-player). <br></p><p>Documented in <em class="emphasis"> Client Python API
        </em> reference guide.</p></li><li><p>Added fogging to the shader model 3 technique of the effects
        <code class="code"> subsurface_skinned.fx </code> and <code class="code">
        subsurface_hardskinned.fx </code> . <br></p><p>Documented in the <em class="emphasis"> Content Creation Manual
        </em> , <em class="emphasis"> BigWorld Shaders And Materials
        </em> lesson.</p></li><li><p><code class="code"> FrameGUIComponent </code> s now have their <code class="code"> tiled
        </code> attribute set to true by default. <br></p><p>Documented in <em class="emphasis"> Client Python API
        </em> reference guide.</p></li><li><p>Changed rules to when the load-in-main-thread warning is issued.
        <br> The warning now is only triggered when the 3D scene rendering
        is enabled ( <code class="code"> BigWorld.worldDEnabled </code> ). <br></p><p>Documented in <em class="emphasis"> Client Python API
        </em> reference guide.</p></li><li><p>Changed limitation of 1024 pixel width/height for <code class="code">
        PySceneRenderer </code> s to 4096. <br></p><p>Documented in <em class="emphasis"> Client Python API
        </em> reference guide.</p></li><li><p>The BSP version and binary format have changed. <br> They are
        now stored in a <code class="code"> bsp2 </code> section in the <code class="code"> .primitives
        </code> file. <br> <code class="code"> *._visual.bsp </code> and <code class="code"> .bsp
        </code> files are deprecated, as are <code class="code"> bsp </code> sections in
        <code class="code"> .primitive </code> files. <br> This fixes a problem that
        occurred in selecting material kinds and collision flags for objects
        with custom BSPs. <br> Please run AssetProcessor over your resource
        tree to update to the new format. <br> Detailed instructions are
        given in <code class="code">
        bigworld/src/tools/misc/asset_processor/asset_processor.txt </code>
        .</p></li><li><p>Changed the default values for specularity for the terrain.
        <br> These can be modified in <code class="code">
        bigworld/res/shaders/terrain/terrain.fx </code> .</p></li><li><p>MOD2X is now disabled by default. <br> If you want to use
        MOD2X in your game, then please enable it in <code class="code">
        bigworld/res/shaders/std_effects/options.fxh </code> .</p></li><li><p>Changed Moo singletons so that they have explicit <code class="code"> init()
        </code> and <code class="code"> fini() </code> methods to better handle
        construction and destruction of resources. <br> As a result of this
        change, the singletons' <code class="code"> instance() </code> methods now return a
        pointer to the singleton instance, instead of a reference to it.
        <br> This change applies to the following classes:</p><div class="itemizedlist"><ul type="circle"><li><p><code class="code"> Moo::TerrainRenderer </code></p></li><li><p><code class="code"> Moo::VisualManager </code></p></li><li><p><code class="code"> Moo::EffectManager </code></p></li><li><p><code class="code"> Moo::VerticesManager </code></p></li><li><p><code class="code"> Moo::PrimitiveManager </code></p></li><li><p><code class="code"> Moo::TextureManager </code></p></li></ul></div></li><li><p>Several improvements to the debugging consoles, such as:</p><div class="itemizedlist"><ul type="circle"><li><p>Dark background (can be toggled by pressing <code class="code"> Caps
            Lock+F9 </code> ).</p></li><li><p>Console no longer scales fonts, instead selecting best font
            size for current resolution.</p></li><li><p>Console no longer uses the last line if that would make the
            cursor visible.</p></li></ul></div></li><li><p>Changed anti-hysteresis radius for the chunk unload distance to
        be a set amount (grid resolution, or 100m). <br> Previously, it was
        a percentage of the far plane (30%). <br> It was changed because
        the memory usage was higher than desired, and it was not the ideal
        implementation to have it as a proportion of the far plane (instead,
        it should be based on the maximum reasonable camera movement
        speed).</p></li><li><p>Improved dependency checking for <code class="code"> .fx </code> files.
        <br> The compiled <code class="code"> .fxo </code> files now have their
        dependency information appended -- these are checked to determine the
        need for shader recompiling. <br> As a result, the previous fixed
        dependency check has been removed.</p></li><li><p>Debug output is now sent to MessageLogger processes on the local
        network. <br> Please set the <code class="code"> UID </code> environment
        variable to your Linux user ID, otherwise a value of 0 is assumed --
        which is the <code class="code"> root </code> .</p></li><li><p>Modified the calculation of the rim lighting for the <code class="code">
        subsurface_hardskinned.fx </code> shader. <br> The rim light is now
        created from the opposite direction of the strongest directional
        source (sun). <br> It is also now properly limited to the angled
        faces.</p></li><li><p>The backbuffer is no longer created as <em class="emphasis"> lockable
        </em> . <br> Please use <code class="code">
        IDirect3DDevice9::GetRenderTargetData </code> and <code class="code">
        IDirect3DDevice9::StretchRect </code> to retrieve backbuffer
        data.</p></li><li><p>Spot lights now have a per-pixel diffuse/specular lighting
        calculation. <br> All per-pixel lighting shaders will now include
        the first spotlight as <em class="emphasis"> per pixel </em> , and
        additional spotlights as <em class="emphasis"> per-vertex </em> .</p></li><li><p>Improved Avatar's state management in FantasyDemo. <br> The
        character is not able to move while in a crouched position
        anymore.</p></li><li><p>Added keyboard-based yaw control to the FantasyDemo character.
        <br> It is activated via the <code class="code"> A </code> and <code class="code"> D </code>
        keys when in mouse control mode.</p></li><li><p>A8R8G8B8 texture format is now programmatically forced for mouse
        cursor texture maps. <br> The <code class="code"> texformat </code> file is no
        longer needed.</p></li><li><p>The Texture Manager can now load discrete mipmaps laid out in a
        texture.</p></li><li><p>On mixed vertex processing cards, we now use hardware TnL for
        rendering the terrain and flora.</p></li><li><p>The dynamic vertex buffers grow to the size of one frame's worth
        of vertices, instead of one call's worth. <br> This is a memory
        performance optimisation.</p></li><li><p>Optimised the tick time of static particle systems, <em class="emphasis">
        i.e. </em> , those placed in the scene using WorldEditor.</p></li><li><p>Rendering of the world is now disabled while the load screen is
        being displayed.</p></li><li><p>Fixed function cards for effects <code class="code"> subsurface_skinned.fx
        </code> and <code class="code"> subsurface_hardskinned.fx </code> .</p></li><li><p>FantasyDemo now uses prerequisites in addition to preloads for
        the Avatar entity.</p></li><li><p>Removed the <code class="code"> xactsound </code> project from FantasyDemo
        solution.</p></li><li><p>Removed <code class="code"> _controlfp </code> call in <code class="code"> winmain.cpp
        </code> , due to precision problems in Visual C++ 2005.</p></li><li><p>Vertical synchronisation preferences are now observed in both
        windowed and full screen modes.</p></li><li><p>Code completion by the in-game Python console no longer overruns
        the edge of the screen, clamping instead.</p></li><li><p>Flora now is correctly rendered when using a small or
        zero-length vertex buffer.</p></li><li><p>Added fallback method for shader models 2 and 1.</p></li><li><p><code class="code"> Caps Lock+F9 </code> now toggles dark background in
        consoles.</p></li><li><p>Resize window is now bound to <code class="code"> Caps Lock+F2 </code>
        .</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e4717"></a>4.&nbsp;Bug Fixes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Collision ray function was modified so that it no longer misses
        a triangle if it was included behind a plane due to the plane's <code class="code">
        TOLERANCE </code> value, the collision ray extended through the plane
        but did not reach the triangle itself, or the collision ray was not
        judged to have straddled the plane, despite being within the <code class="code">
        TOLERANCE </code> value. Added +- <code class="code"> tolerancePct </code> to the
        ray when checking planes, and relaxed triangle intersection check by
        <code class="code"> tolerancePct </code> after finding a triangle.</p></li><li><p>Animation compression of the rotation keys now work correctly.
        Many keys were being discarded incorrectly. A long run of keys will
        now be properly reduced to a pair of keys spanning the range. There is
        also a new heuristic for key deletion: rotational keys are less likely
        to be deleted if there is a high depth hierarchy below their node.
        This allows higher compression with fewer artifacts.</p></li><li><p>Calculation of the fogging colour has been corrected. Objects
        now fade out to the sky's horizon colour very well for all directions.
        The exception is when looking towards the sun where the sky's
        scattering changes the horizon colour too rapidly across the
        scene.</p></li><li><p>Selecting material kinds and collision flags for objects with
        custom BSPs now works correctly. <br> For details, see this
        document's <em class="emphasis"> Changed Features </em>
        section, item <em class="emphasis"> The BSP version and binary format
        have changed </em> .</p></li><li><p>Particle systems now always last for as long as configured.
        Previously, they lasted for longer than configured, which caused the
        maximum capacity to be reached, apart from pauses in the particle
        generation.</p></li><li><p>The visuals used by <code class="code"> MeshParticleRenderer </code> s are
        now cached. This helps memory use and prevents pauses in the rendering
        thread on creation.</p></li><li><p>Shadow casters no longer render to the very edge of the shadow
        map. <br> Shadow map border no longer stretches over the receiving
        object, which caused visual artifacts.</p></li><li><p>Entities travelling in certain directions will no longer display
        yaw jitter. Entity velocities used by the ActionMatcher are now
        filtered, along with position.</p></li><li><p>Chunk dynamic obstacles now are always added to the column. That
        means that all collisions with the obstacle will now work without it
        having to enter a new chunk.</p></li><li><p>Pressing <code class="code"> Alt+Tab </code> during startup no longer causes
        problems with material initialisation. This sometimes manifested
        itself as the 3D view being blurred.</p></li><li><p>Setting a <code class="code"> Dye </code> property to a <code class="code">
        Vector4Provider </code> , and then setting it to a non-dynamic <code class="code">
        Vector4 </code> now works correctly.</p></li><li><p>Shadow projection now uses a cylinder to determine which objects
        should receive shadows. As a consequence, now objects now always
        receive shadows.</p></li><li><p>Successive, quick re-creation of devices no longer cause invalid
        pointers in the main thread or objects deleted from the background
        thread.</p></li><li><p>When changing from full screen to windowed mode, the back buffer
        will have its size changed -- window will be resized before resetting
        the device.</p></li><li><p>Terrain does not display sparkles anymore. The order in which
        transforms are applied in the shaders has been changed.</p></li><li><p>The FantasyDemo client no longer enters a bad state if the
        CellAppMgr does not respond during login.</p></li><li><p><code class="code"> PyModelObstacle </code> s that are placed over the
        intersection of adjoining chunks now longer cause a culling
        problem.</p></li><li><p><code class="code"> EntityPicker </code> 's <code class="code"> getBoundingBox </code>
        method now is able to adjust x- and z-width independently.</p></li><li><p>Entity <code class="code"> physics.stop() </code> now correctly cancels
        <code class="code"> physics.chase() </code> behaviour.</p></li><li><p>Client no longer suffers a memory access violation when exiting
        after a script syntax error.</p></li><li><p>The <code class="code"> lightonly_glow_alpha.fx </code> now works correctly
        on GeForce4MX cards.</p></li><li><p>Snow, cold breath and rain splash particle systems no longer
        cause memory leak.</p></li><li><p>The camera now correctly collides with the environment when
        using mouse control.</p></li><li><p><code class="code"> pointToGrid </code> method now returns correct values for
        negative multiples of <code class="code"> GRID_RESOLUTION </code> .</p></li><li><p>Added MOD2X support for all effects that did not support this
        option before.</p></li><li><p>Effect Manager no longer causes memory leaks -- the Effect
        compiler was not released when an effect was compiled.</p></li><li><p><code class="code"> Moo::VisualCompound </code> now properly loads LoD for
        static objects.</p></li><li><p>Fogging calculation in <code class="code"> decal.fx </code> now matches the
        other shaders.</p></li><li><p>Culling modes of the fixed-function fallback of the terrain
        shader now as expected.</p></li><li><p>Clouds will now properly fade in and out when entering/exiting
        at the horizon.</p></li><li><p>Glow maps in the fallback for the <code class="code"> character_lighting.fx
        </code> shader now work correctly.</p></li><li><p>Critical error behaviour has been updated to work correctly at
        all stages after device initialisation.</p></li><li><p><code class="code"> Ctrl+C </code> shortcut to toggle collision has been
        disabled</p></li><li><p>Improved compliance to standard C++, with various changes to the
        code.</p></li><li><p>Animation loop no longer presents glitch when the <code class="code"> anca
        </code> file has to be only partially rebuilt.</p></li><li><p>Font generation now always uses font metrics to render character
        into font map, instead of using fixed with value for fixed
        fonts.</p></li><li><p>In FantasyDemo, LAN servers' menu captions in the main menu are
        now updated correctly.</p></li><li><p>The <code class="code"> ashes.mfm </code> is not loaded whenever a <code class="code">
        SimpleGUIComponent </code> was created.</p></li><li><p>Replaced hard float comparison with range test in <code class="code">
        base_camera.cpp </code> and <code class="code"> cursor_camera.cpp </code> .</p></li><li><p>Model pitch no longer jitters when direction cursor pitch is
        greater than 65 degrees.</p></li><li><p><code class="code"> SimpleGUIComponent </code> was modified so that is
        recognises back slashes in file paths.</p></li><li><p>Improved engine robustness for when DirectX fails creating
        textures or buffers.</p></li><li><p><code class="code"> NodeTreeIterator </code> no longer performs invalid
        dereferencing if node tree is empty.</p></li><li><p>Returning after locking the computer (via <code class="code"> Ctrl+Alt+Delete
        </code> ) no longer causes a crash in the client.</p></li><li><p>Watchers are now correctly cleaned up, and may no longer be
        static.</p></li><li><p>Transparent BSP geometry no longer casts shadows on
        terrain.</p></li><li><p>Sprite and point sprite particle systems are correctly sorted
        now.</p></li><li><p>Fonts with drop shadows now can be used in console.</p></li><li><p>Console does now have key repeat problems anymore.</p></li><li><p>File name resolver now works with paths containing a drive
        letter.</p></li><li><p>BSP files now are not loaded from visuals if already
        cached.</p></li><li><p>Fixed warning about resources being loaded in the main
        thread.</p></li><li></li><li><p>Fixed several DirectX resource leaks.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e4971"></a>5.&nbsp;Deprecated Features</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p><code class="code"> BW_RES_PATH </code> environment variable will no longer
        be supported. <br> Instead, list of folders will be retrieved from
        executable folder's <code class="code"> paths.xml </code> *, or explicitly set as a
        command-line parameter when launching the executable+. <br> * See
        <em class="emphasis"> File Grammar Guide </em> , section
        <em class="emphasis">
            <code class="code">paths.xml</code>
          </em> . <br> + See <em class="emphasis"> Content Tools
        Reference Guide </em> , chapter <em class="emphasis"> Starting
        The Tools </em> .</p></li><li><p><code class="code"> Sky </code> class will be replaced by <code class="code"> Clouds
        </code> class and new weather system settings.</p></li><li><p>Inputs and settings of the weather system will be changed.
        <br> New API has not been defined yet. The existing weather API
        will not be available after BigWorld 1.8.</p></li><li><p><code class="code"> Moo::Material </code> and <code class="code"> Moo::TextureStage
        </code> classes will be removed. <br> Code that currently uses
        these classes with be changed to use <code class="code"> EffectMaterial </code> s
        and <code class="code"> .fx </code> files instead.</p></li><li><p><code class="code"> Water </code> class will be removed.</p></li><li><p><code class="code"> bigworld.xml </code> has been superseded by <code class="code">
        <em class="emphasis"> &lt;engine_config&gt; </em> .xml </code> and <code class="code">
        <em class="emphasis"> &lt;scripts_config&gt; </em> .xml </code> . <br>
        Although it can still be used in 1.8, it will not be supported in
        later versions. <br> These files are documented in <em class="emphasis"> Client Programming Guide </em> , <em class="emphasis"> Overview </em> chapter, section <em class="emphasis"> Configuration Files </em> .</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e5068"></a>6.&nbsp;Known Issues</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Objects with ModelEditor's flag <em class="emphasis"> Model
        Batching </em> flag turned on ignore all lights, except for the
        sunlight.</p></li><li><p>dPVS causes occasional pauses in main thread during chunk
        loading. <br> The only workaround for this at the moment is to
        disable dPVS.</p></li><li><p>Raindrop simulation and entity interaction water simulation do
        not work at the same time.</p></li><li><p>Under certain conditions, the client might cause a crash to
        desktop and require a system restart. <br> It is most likely to
        occur with machines with 1GB RAM, and nVidia GeForce 6xxx or 7xxx
        series video card, and running the client off a fresh update of all
        resources. <br> The crash will only occur during the first run of
        the client -- subsequent startup attempts will be successful. <br>
        The crash occurs during shader compilation, and <em class="emphasis"> only
        </em> with nVidia cards. <br> After testing various video
        card/driver combos, it appears that the problem only occurs with the
        later nVidia driver packages. <br> The working card/driver combos
        are:</p><div class="itemizedlist"><ul type="circle"><li><p>nVidia 6 series cards -- driver version 77.72</p></li><li><p>nVidia 7 series cards -- driver version 84.21</p></li><li><p>nVidia GF 7950 cards -- a driver could not be found</p></li></ul></div><p>We are working with nVidia to resolve these issues as soon as
        possible.</p></li><li><p>Under certain conditions, the client might cause a crash to
        desktop. <br> It is most likely to occur with machines with 1GB
        RAM, and running the client off a fresh update of all resources.
        <br> The crash occurs during shader compilation.</p></li><li><p>Actions of lower LOD models are given precedence over higher
        LODs at the moment.</p></li><li><p>Decals are not supported on SpeedTrees.</p></li><li><p>Guards and Creatures in FantasyDemo are not cleaned up when
        changing spaces.</p></li><li><p>Printing large strings in Python (such as when using <code class="code">
        gc.get_objects() </code> ) causes the client to crash. <br> This
        can be worked around by replacing the <code class="code"> fprintf(s_file, msg);
        </code> in <code class="code"> PyOutputWriter::py_write() </code> with:</p><pre class="programlisting">
          
          
      for(const char *i = msg; *i != '\0'; i++)
          fwrite(i, sizeof(char), 1, s_file);
      
        
        </pre></li><li><p>In FantasyDemo, using the name of an existing <code class="code"> Avatar
        </code> stored in the database as an account name will cause the
        client to enter a bad state, while displaying the message <code class="code">
        "Account login succeeded" </code> . <br> This affects clients
        connecting to servers using the XML database.</p></li><li><p>If a CellApp dies, clients riding <code class="code"> Rippers </code> in that
        cell may suffer a critical error in <code class="code">
        EntityManager::onRestoreClient() </code> .</p></li></ul></div></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e5166"></a>BigWorld Technology 1.7.2 Client Release Notes</h2></div></div><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e5169"></a>1.&nbsp;New Features</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Ability to specify default values for types in <code class="code"> alias.xml
        </code> . <br> The <code class="code"> &lt;Default&gt; </code> section should
        appear under the type alias section. <br> For example:</p><pre class="programlisting">
          
          
 &lt;MONEY&gt; INT32 &lt;Default&gt; 100 &lt;/Default&gt; &lt;/MONEY&gt;

 &lt;BASICPLAYER&gt;
   FIXED_DICT
     &lt;Properties&gt;
       &lt;name&gt;  &lt;Type&gt; STRING &lt;/Type&gt; &lt;/name&gt;
       &lt;model&gt; &lt;Type&gt; INT8   &lt;/Type&gt; &lt;/model&gt;
     &lt;/Properties&gt;
     &lt;Default&gt;
       &lt;name&gt;  BigWorld &lt;/name&gt;
       &lt;model&gt; 1        &lt;/model&gt;
     &lt;/Default&gt;
 &lt;/BASICPLAYER&gt;
        
        </pre><p><br> The syntax for the default value is identical to the one
        used in entity definitions. <br> See <em class="emphasis"> Server
        Programming Guide </em> , section <em class="emphasis">
        Properties </em> .</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e5199"></a>2.&nbsp;Changed Features</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Consolidated <code class="code"> coordinateSystemMatch </code> , and <code class="code">
        leaveWorld </code> and <code class="code"> enterWorld </code> into one <code class="code">
        coordinateSystemCheck </code> function. <br> Now a simple change of
        vehicles does not need to go through <code class="code"> enterWorld </code> /
        <code class="code"> leaveWorld </code> loop.</p></li><li><p>Chunk portals are NOT automatically activated if they have
        non-empty labels. You must now call ChunkPortal::activate method to
        activate them.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e5229"></a>3.&nbsp;Bug Fixes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Fixed a sun and moon rendering bug caused by not setting the
        pixel shader to NULL before rendering. <br></p></li><li><p>Fixed a bug that would cause dynamic obstacle not being added to
        the collision tree in a chunk. <br></p></li><li><p>Fixed a memory leak in visual compound. <br></p></li><li><p>Fixed a problem with physics correction that occurred when the
        player was a passenger. <br> Entity positions could become
        temporarily incorrect.</p></li></ul></div></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e5250"></a>BigWorld Technology 1.7.1 Client Release Notes</h2></div></div><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e5253"></a>1.&nbsp;New Features</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Added Microsoft Visual C++ 2005 project files. <br></p></li><li><p>Added a new light type: Pulse light.</p><div class="itemizedlist"><ul type="circle"><li><p>It is similar to a <code class="code"> PyChunkLight </code> in that it is
            a purely dynamic light.</p></li><li><p>It has a noise animating position, and flashes the light
            colour.</p></li><li><p>Place it in BigBang using <code class="code">
            bigworld/res/helpers/lights/pulse.xml </code> .</p></li></ul></div></li><li><p>Added <code class="code"> filterType </code> property to <code class="code">
        SimpleGUIComponent </code> .</p><div class="itemizedlist"><ul type="circle"><li><p>Legal values are: <code class="code"> LINEAR </code> and <code class="code"> POINT
            </code> .</p></li></ul></div><p>See Client Python API Documentation.</p></li><li><p>Added <em class="emphasis"> Pulse </em> light type.</p><div class="itemizedlist"><ul type="circle"><li><p>It is similar to a <code class="code"> PyChunkLight </code> in that it is
            a purely dynamic light.</p></li><li><p>It has a noise animating position, and flashes the light
            colour.</p></li><li><p>Place it in BigBang using <code class="code">
            bigworld/res/helpers/lights/pulse.xml </code> .</p></li></ul></div><p>See <em class="emphasis"> Content Creation Manual </em> ,
        lesson <em class="emphasis"> Add Lights To The World </em>
        .</p></li><li><p>Added <code class="code"> filterType </code> property to <code class="code">
        SimpleGUIComponent </code> .</p><div class="itemizedlist"><ul type="circle"><li><p>Legal values are: <code class="code"> LINEAR </code> and <code class="code"> POINT
            </code> .</p></li></ul></div><p>See <em class="emphasis"> Client Python API Documentation
        </em> , entry <em class="emphasis"> Class List-&gt; <code class="code">
        SimpleGUIComponent </code> </em> .</p></li><li><p>Added Microsoft Visual C++ 2005 project files. <br></p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e5365"></a>2.&nbsp;Changed Features</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Added <code class="code"> init </code> and <code class="code"> fini </code> methods to Moo
        managers, so that we can control the construction and destruction of
        the singleton instances. <br> This applies to the following
        classes: <br></p><div class="itemizedlist"><ul type="circle"><li><p><code class="code"> EffectManager </code></p></li><li><p><code class="code"> PrimitiveManager </code></p></li><li><p><code class="code"> TextureManager </code></p></li><li><p><code class="code"> VerticesManager </code></p></li><li><p><code class="code"> VisualManager </code></p></li></ul></div><p>See <em class="emphasis"> Client C++ API Documentation
        </em> , entry <em class="emphasis"> Class List </em>
        .</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e5410"></a>3.&nbsp;Bug Fixes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Fixed problem where sparkles were rendered in the terrain
        between chunks. <br></p></li><li><p>Fixed problem with attachments on the player: when it boards the
        <em class="emphasis"> ripper </em> , the attached models no longer follow
        the later. <br></p></li><li><p>Fixed a bug that would cause the screen to blur if <code class="code">
        Alt+Tab </code> was pressed during startup. <br></p></li><li><p>Fixed a bug that would cause alpha-blended objects to shimmer if
        they were drawn in the same frame as a particle system that used the
        <code class="code"> shimmer </code> material style. <br></p></li><li><p>Shadow caster now uses parent render targets to reuse z-buffer,
        in order to save memory. <br></p></li><li><p>Engine was changed so that if an animated texture has no frames
        defined, then the textures are played in the order in which they are
        defined in the <code class="code"> .texanim </code> file. <br></p></li><li><p>The chunk loading status bar no longer goes backwards, even if
        the Chunk Manager reports that the percentage of loaded chunks has
        decreased. <br></p></li><li><p>The function <code class="code"> emulsify </code> in <code class="code"> SuperModelDye
        </code> can no longer set a tint number that is too high.
        <br></p></li><li><p>Static <code class="code"> PyModelObstacle </code> 's are now lent to the
        appropriate neighbouring chunks. <br> This fixes a drawing/culling
        problem for <code class="code"> PyModelObstacle </code> 's that span more than one
        chunk. <br></p></li><li><p>Fixed the problem that occurred when changing from full-screen
        to windowed mode: the back buffer would have the same size as when in
        full-screen mode. <br> Now it resizes the windows before resetting
        the device. <br></p></li><li><p>Fixed problem with font generation. Fonts are now rendered into
        font map using a one-to-one pixel to texel mapping.</p></li><li><p>Fixed problem that prevented the use of fonts with a
        effectsMargin greater than zero on consoles with a prompt (cursor
        would be drawn misplaced).</p></li></ul></div></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e5488"></a>BigWorld Technology 1.7 Client Release Notes</h2></div></div><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e5491"></a>1.&nbsp;New Features</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Terrain Texture Spacing is now configurable. <br> Enter the
        desired spacing as a float value in file resources.xml, tag <code class="code">
        environment/terrainTextureSpacing </code> . <br> You can change its
        value during runtime via the watcher <code class="code"> render/terrain/texture
        tile frequency </code> . <br> See Client Programming Guide, chapter
        Terrain, section Texture Spacing.</p></li><li><p>Added terrain specular lighting. <br> See Client Programming
        Guide, chapter Terrain, section Specular Lighting.</p></li><li><p>Added clumpiness for flora. This gives you greater control over
        the flora distribution. <br> See Client Programming Guide, chapter
        Detail Objects, section Flora.</p></li><li><p>Added per-pixel lens flare occlusion (instead of using bounding
        box).</p></li><li><p>Added cloud shadowing to all outdoor objects. <br> See Client
        Programming Guide, chapter Terrain, section Cloud Shadowing. <br>
        <em class="emphasis"> IMPORTANT : If you have previously upgraded
        from BigWorld 1.5 to 1.6, and you ran the Asset Converter, then you
        MUST run the Asset Processor to upgrade from 1.6 to 1.7. Please read
        the document in <code class="code">
        bigworld/tools/misc/asset_processor/asset_processor.txt </code> .
        </em></p></li><li><p>Added methods <code class="code"> freeze </code> and <code class="code"> unfreeze </code>
        to <code class="code"> GoboComponent </code> . <br> Freeze makes a copy of the
        current blur texture, and sets the frozen bitmap as the blur texture.
        Unfreeze undoes this operation. <br> The FantasyDemo uses this new
        feature when teleporting between spaces. <br> See Client Python API
        Documentation, and source file <code class="code"> src/lib/ashes/gobo_component.cpp
        </code> .</p></li><li><p>Added support for full screen aspect ratio on the render context
        for non-standard displays such as widescreen laptops. <br>
        Specified in <code class="code"> bigworld.xml/renderer </code> . <br> See Client
        Programming Guide, chapter Overview, section Configuration Files,
        sub-section File bigworld.xml. <br> See also Client C++ API
        Documentation, entries <code class="code"> DeviceApp::init </code> reads tag from
        XML file), and <code class="code"> Moo::RenderContext::changeMode </code> to switch
        to full screen). <br> See also source files <code class="code">
        bigworld/src/client/app.cpp </code> , and <code class="code">
        src/xlib/moo/render_context.cpp </code> ).</p></li><li><p>Added method <code class="code"> spaceLoadStatus </code> , which returns the
        progress of chunk loading as a percentage of the given distance.
        <br> This method is discussed in How To Implement A Progress Bar
        (file <code class="code"> bigworld/doc/howto/howto_implement_progress_bar.doc
        </code> , chapter Implementing Progress Bars. <br> See Client
        Python API Documentation for more information. <br> See also source
        file <code class="code"> bigworld/src/client/script_bigworld.cpp </code> .</p></li><li><p>Added technique <code class="code"> ADD_SIGNED </code> as a possible value of
        attribute <code class="code"> materialFX </code> for GUI components. It uses
        MODx2-style buffer blending. See materialFX in Client Python API
        Documentation for more information. <br> See also source file
        <code class="code"> src/lib/ashes/simple_gui_component.cpp </code> .</p></li><li><p>Added GUI-driven progress bar for application startup. <br>
        See How To Implement A Progress Bar document.</p></li><li><p>Added chicken model to FantasyDemo. <br> The model is used to
        demonstrate cell/client-only entities, and is a variation of Creature.
        The chickens are placed in the demo scene, near the dungeon.
        <br></p></li><li><p>Added two new shaders: <code class="code"> lightonly_uvtransform_glow.fx
        </code> and <code class="code"> lightonly_hardskinned_glow.fx </code> . <br> All
        shaders (FX files) are documented in Content Creation Manual, FX Files
        And Materials.</p></li><li><p>Added additional alpha test pass to flora, for the first x
        metres. <br> This fixes the rendering of close-up objects that
        utilise billboard-style geometry, and helps reduce fill rate.</p></li><li><p>Added <code class="code"> &lt;flex&gt; </code> tag to <code class="code"> flora.xml
        </code> , for visual ecotypes. <br> This allows you to scale the
        usual amount of flex for flora visuals on a per-visual basis (most
        usefully, to turn off animation for particular flora objects). <br>
        See Client Programming Guide, chapter Detail Objects, section Flora,
        sub-section File Format. <br> See also example in <code class="code">
        fantasydemo/res/environments/flora.xml </code> .</p></li><li><p>Client can now configure the engine resources using multiple
        instances of <code class="code"> resources.xml </code> . <br> This means that if
        you want to override engine resources, you only have to place an XML
        file with the overrides in your game's res path. You will not have to
        copy all entries from <code class="code"> bigworld/res/resources.xml </code> and
        change the ones you need. <br> See Client Programming Guide,
        chapter Overview, section Configuration Files.</p></li><li><p>Added drawing flags <code class="code"> shimmer </code> and <code class="code"> stipple
        </code> to <code class="code"> PyModel </code> class. <br> The <code class="code"> shimmer
        </code> flag overrides the model's shaders and draws all opaque pixels
        into the shimmer channel. The <code class="code"> stipple </code> flag sets the
        model and its attachments into stipple mode. Note that <code class="code"> stipple
        </code> does not use lighting or texture information. <br> See
        Client Python API Documentation for more information. <br> See also
        source file <code class="code"> src/lib/duplo/pymodel.cpp </code> .</p></li><li><p>Added attribute <code class="code"> explicitSize </code> to <code class="code">
        TextGUIComponent </code> class. <br> It allows you to specify the
        size of GUI text, instead of it being dictated by the size of the
        font. <br> See Client Python and C++ API Documentation. <br> See
        also source file <code class="code"> src/lib/ashes/text_gui_component.cpp </code>
        .</p></li><li><p>Flora vertex buffer can now be resized during runtime, using the
        Python method <code class="code"> BigWorld.floraVBSize(nbytes) </code> . <br>
        See Client Python API Documentation. <br> See also source also file
        <code class="code"> src/lib/romp/flora.cpp </code> .</p></li><li><p>Game can now be restarted from Python, using the <code class="code">
        BigWorld.restartGame </code> method. <br> See Client Python API
        Documentation for more information. <br> See also <code class="code">
        bigworld/src/client/script_bigworld.cpp </code> .</p></li><li><p>All textures can now be re-compressed and reloaded at runtime,
        using the <code class="code"> BigWorld.reloadTextures </code> method. <br> See
        Client Python API Documentation for more information. <br> See also
        <code class="code"> bigworld/src/client/script_bigworld.cpp </code> .</p></li><li><p>Exposed to shader code the effect variable <code class="code"> Screen </code>
        , which is a Vector4 of: ( <code class="code"> screenWidth </code> , <code class="code">
        screenHeight </code> , <code class="code"> screenWidth/2 </code> , <code class="code">
        screenHeight/2 </code> ). This is very useful for effects that perform
        calculations in screen space. <br> See example implementation in
        file <code class="code"> bigworld/res/shaders/std_effects/stipple/stipple.fx
        </code> .</p></li><li><p>Conditional removal of advanced shader effects, such as <code class="code">
        MODX2 </code> , <code class="code"> TERRAIN_SPECULAR </code> and <code class="code">
        SKY_LIGHT_MAP </code> is now allowed. <br> These special effects
        may not be supported on your target platform. <br> See optional
        include file <code class="code"> bigworld/res/shaders/std_effects/optinclude.fxh
        </code> .</p></li><li><p>Full shadow mapped shadows have been added for entities. <br>
        Entities can be added/removed to the potential shadow caster list via
        Python with methods <code class="code"> BigWorld.addShadowEntity </code> and <code class="code">
        BigWorld.delShadowEntity </code> . <br> See <code class="code">
        bigworld/src/client/shadow_manager.cpp </code> .</p></li><li><p>Added parallax mapping shader. This shader simulates a 3D using
        textures. <br> See Content Creation Manual, lesson FX Files And
        Materials. <br> See also <code class="code">
        bigworld/res/shaders/std_effects/parallax_lighting_specmap.fx </code>
        .</p></li><li><p>Added shader that emulates sub-surface scattering and rim
        lighting. <br> This is best used on character faces when seen close
        up. <br> See Content Creation Manual, lesson FX Files And
        Materials. <br> See also <code class="code">
        bigworld/res/shaders/std_effects/subsurface_skinned.fx </code>
        .</p></li><li><p>Added best practices lock for dynamic vertex buffers, using
        method <code class="code"> Moo::DynamicVertexBuffer::lock2 </code> . <br> See
        Client C++ API Documentation for more information. <br> See also
        source file <code class="code"> src/lib/moo/dynamic_vertex_buffer.cpp </code>
        .</p></li><li><p>Added class <code class="code"> Moo::VisualSplitter </code> for splitting
        rendersets in objects that use too many nodes. This removes the old 17
        bone limit on skeletons. <br> See Client C++ API Documentation for
        more information. <br> See also <code class="code">
        src/lib/moo/visual_splitter.cpp </code> .</p></li><li><p>Added class <code class="code"> Moo::Visual::DrawOverride </code> for
        overriding visual drawing. This enables you to replace the normal
        drawing method for an object. <br> See Client C++ API
        Documentation. <br> See also <code class="code"> src/lib/moo/visual.cpp </code>
        .</p></li><li><p>All lightonly shaders now allow having lighting turned off. This
        will cause the surfaces to be display with only the texture colour.
        <br> See Content Tools Reference Guide, chapter ModelViewer,
        section Configuration Panel, sub-section Material Tree Tab.</p></li><li><p>Improved mouse event handling in <code class="code"> SimpleGUIComponent
        </code> . <br> Includes mouse move, cross, button click and
        drag-and-drop events. <br> See Client Programming Guide, chapter
        Graphical User Interface, section Input Events. <br> See also
        Client Python API Documentation. <br> See also source file <code class="code">
        src/lib/ashes/simple_gui_component.cpp </code> .</p></li><li><p>New mouse cursor features allow control over the mouse pointer,
        such as setting its visibility, position and cursor shape. <br> See
        Client Programming Guide, chapter Graphical User Interface, section
        Mouse Cursor. <br> See also Client Python API Documentation.
        <br> See also source file <code class="code"> src/lib/ashes/mouse_cursor.cpp
        </code> .</p></li><li><p>New concept <code class="code"> InputCursor </code> allows directing mouse
        input to a specific mouse event handler. <br> Currently, there are
        two handlers: <code class="code"> DirectionCursor </code> and <code class="code"> MouseCursor
        </code> . This allows programs to switch between different methods of
        controlling the mouse. <br> See Client Programming Guide, chapter
        Graphical User Interface, section Mouse Cursor. <br> See also
        Client Python and C++ API Documentation. <br></p></li><li><p>Hit test made by <code class="code"> SimpleGUIComponent.hitTest </code> now
        also works with components attached to 3D scene. <br> See Client
        C++ API Documentation. <br> See also source file <code class="code">
        src/lib/ashes/simple_gui_component.cpp </code> .</p></li><li><p>New node hierarchy iterators allow easy iteration over a
        character's skeleton in C++. <br> See Client C++ API Documentation
        ( <code class="code"> Model::NodeTreeIterator </code> ). <br> See also source
        file <code class="code"> src/lib/romp/super_model.cpp </code> .</p></li><li><p>Improved client Python console including auto completion of
        method names and better editing capabilities. <br> See Client
        Programming Guide, chapter Debugging, section Scripts, sub-section
        Python Console. <br></p></li><li><p>Improved generation of fonts, including the addition of the
        following fields to font definition file:</p><div class="itemizedlist"><ul type="circle"><li><p><code class="code"> shadowAlpha </code> : Alpha value to use when
            creating the shadow.</p></li><li><p><code class="code"> spaceProxyChar </code> : ASCII code of the character
            to be used for calculating the width of a space character.</p></li></ul></div><p>See Client Programming Guide, chapter Graphical User Interface,
        section Fonts, sub-section Creating New Fonts. <br> See also
        example file <code class="code"> bigworld/res/system/fonts/default_medium.font
        </code> .</p></li><li><p>Class <code class="code"> FootTrigger </code> now reads the attribute <code class="code">
        upperBound </code> threshold from file <code class="code"> resources.xml </code> to
        determine if a footstep should be flagged. <br> It reads the value
        of tag <code class="code"> environment/footprintThreshold </code> . <br> See
        Client Python and C++ API Documentation.</p></li><li><p>The Texture Manager now recognises all image format extensions
        supported by DirectX, and will recreate DDS files from the appropriate
        source image. <br> Previously, this only worked properly for TGA
        and BMP files. It now supports TGA, BMP, PNG, HDR, PFM, DIB, JPG and
        PPM image file formats.</p></li><li><p>Added Histogram console to the game and BigBang. The histogram
        is similar to the histogram function used in imaged editing programs,
        and allows world builders and artists to see how well the full
        intensity range of the engine is being used. <br> See Content Tools
        Reference Guide, chapter World Editor (BigBang), section Configuration
        Panel, sub-section Options Tab, Histogram Tab.</p></li><li><p>Light Maps (as used by the flora and sky) are now configurable
        through XML files. <br> See Client Programming Guide, chapter 3D
        Engine (Moo), section Features, sub-section Lighting.</p></li><li><p>On the client, entity types are now compressed to exclude
        server-only types. <br> This means that it is no longer necessary
        for the client to know about server-only entity types. <br> See
        Client Programming Guide, chapter Entities, section Entities Are
        Python Script Objects.</p></li><li><p>Added a performance timer to the texture renderer, displayed in
        the engine statistics page.</p></li><li><p>The <code class="code"> D3DCREATE_FPU_PRESERV </code> flag will be set when
        creating D3D devices.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e6034"></a>2.&nbsp;Changed Features</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Resources and folders in FantasyDemo were repathed to a more
        sensible structure. <br> See Content Creation Manual, lesson
        Resource Management.</p></li><li><p>Invalid sized flora textures have their message status changed
        from CRITICAL to ERROR. The code will handle it without crashing --
        the surfaces will just remain uninitialised.</p></li><li><p>The <code class="code"> WindowGUIComponent </code> class now accepts an
        optional texture name in its constructor. This change affects both C++
        and Python interfaces. <br> See Client C++ API Documentation for
        more information.</p></li><li><p>Texture detail levels are now configurable via resources.xml. It
        is specified in tag <code class="code"> system/textureDetailLevels </code> .
        <br> See Client Programming Guide, chapter 3D Engine (Moo), section
        Textures, sub-section Texture Detail Levels/Compression.</p></li><li><p>Class <code class="code"> Moo::RenderTarget </code> can now create render
        targets in any pixel format. <br> See Client C++ API Documentation
        for more information.</p></li><li><p>Client now uses triple buffering by default.</p></li><li><p>The following classes now use <code class="code"> std::map </code> to store
        their resources: <code class="code"> Moo::PrimitivesManager </code> , <code class="code">
        Moo::TextureManager </code> and <code class="code"> Moo::VertecesManager </code>
        .</p></li><li><p>All shader include files have been changed to have <code class="code"> .fxh
        </code> extensions.</p></li><li><p>It is now possible to preserve the texture aspect ratio of a
        <code class="code"> SimpleGUIComponent </code> by setting the width or height to
        zero. <br> See Client C++ and Python API Documentation for more
        information.</p></li><li><p>Exposed methods to Python to get and set the display mode.
        <br> See Client Python API Documentation for more
        information.</p></li><li><p>Full screen filters that fail to initialise now throw a silent
        error message, instead of a critical one.</p></li><li><p>Class <code class="code"> Moo::LodPrimitive </code> has been
        deprecated.</p></li><li><p>The deprecated DX8 style shaders were removed.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e6119"></a>3.&nbsp;Performance Improvements</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Added batch render optimisations using the <code class="code"> batched
        </code> flag in models, which can be set using ModelViewer. The <code class="code">
        Moo::VisualCompound </code> class combines visual instances into one
        object, in order to limit the number of draw calls made by the engine.
        <br> See Content Tools Reference Guide, chapter ModelViewer,
        section Configuration Panel, sub-section Object Tab. <br> See
        example model <code class="code">
        fantasydemo/res/characters/npc/chicken/chicken.model </code> . See
        Client C++ API Documentation for more programmer information. <br>
        See source file <code class="code"> src/lib/moo/visual_compound.cpp </code>
        .</p></li><li><p>All DX8-style pixel shaders were upgraded to DX9-style <code class="code">
        .FX </code> shaders. <br> Shaders are documented in the Content
        Creation Manual, in FX Files And Materials.</p></li><li><p>We now make sure that the main thread always runs on the same
        core in multi core/multi CPU systems.</p></li><li><p>Refined the chunk culling to make it more efficient and
        flexible.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e6158"></a>4.&nbsp;Bug Fixes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Fixed bug in class <code class="code"> AlphaGUIShader </code> where an
        exponential curve was applied to the function. <br> Note that you
        may need to halve the fade-out speeds of your GUI components that use
        this shader.</p></li><li><p>Fixed the multiplier properties of Spot, Omni, and Ambient
        lights. <br></p></li><li><p>Fixed attribute <code class="code"> affectVelocity </code> for the Orbitor
        particle system action. <br> It was previously being
        ignored.</p></li><li><p>Fixed attribute <code class="code"> tile </code> in <code class="code"> SimpleGUIComponent
        </code> . <br> It was previously being ignored.</p></li><li><p>Fixed method <code class="code"> Pixie.ParticleSystem.system(int) </code> .
        <br> It was previously returning a Boolean, instead of the particle
        system itself.</p></li><li><p>Fixed method <code class="code"> sumHarmonics2 </code> . <br> It was
        previously ignoring the <code class="code"> frequency </code> parameter.</p></li><li><p>Fixed issue where lens flares occluders were removed (when
        changing spaces) but not restored.</p></li><li><p>Fixed issue where flora was lit using the previous time of day,
        instead of current time of day.</p></li><li><p>Fixed issue with drawing attachments when using attribute <code class="code">
        visibleAttachments </code> on instances of <code class="code"> PyModel </code> .
        <br> There were cases where the attachments were not drawn after
        setting the visibility of the parent's model to False.</p></li><li><p>Fixed the loading of client-side entities. <br> Previously,
        the chunk engine would ignore entities unless they used the legacy tag
        <code class="code"> position </code> . <br> This has now been replaced by the
        more general tag <code class="code"> transform </code> .</p></li><li><p>Fixed issue in drawing Sky, Sun, Moon. <br> They now draw
        exactly at the far plane, instead of just in front, which caused
        visual anomalies.</p></li><li><p>The Chunk Manager's 'far plane' is set along with the space's
        far plane, so all visible chunks now get loaded.</p></li><li><p>Rain splashes are now visible in FantasyDemo when in
        first-person camera mode.</p></li><li><p>Fixed cloud support for multiple spaces. Previously, the clouds
        from one space would <br> still be visible in the new one when
        changing spaces.</p></li><li><p>Fixed colour of night sky. <br> Previously, the ambient
        colour of the night sky was added twice, making it excessively
        bright.</p></li><li><p>The <code class="code"> GUIAttachment </code> class now works correctly with
        the sorted item pipeline for all GUI items, including models with
        transparencies attached to <code class="code"> MeshAdaptors </code> .</p></li><li><p>Fixed recompilation of DDS files based on the timestamp of the
        <code class="code"> .textformat </code> files. <br> Previously, the timestamp of
        <code class="code"> .textformat </code> files were ignored, meaning that you woud
        have to delete the DDS file manually.</p></li><li><p>Added fogging colour correction for blend modes <code class="code">
        SRC_COLOUR </code> and <code class="code"> INV_SRC_COLOUR </code> . <br>
        Previously, the fog colour was incorrect, causing square edges to be
        displayed in the scene.</p></li><li><p>The <code class="code"> EffectManager::get </code> method no longer opens
        files twice when loading an effect.</p></li><li><p>Decals now fog properly.</p></li><li><p>Fixed transparency sorting for skinned and morphed objects.
        <br> Previously the results of rendering skinned and morphed
        objects with transparencies had unpredictable results.</p></li><li><p><code class="code"> ANCA </code> files can now be properly recreated at any
        time. <br> Previously, there were occasional crashes when creating
        ANCA files for the first time.</p></li><li><p>Fixed Direct 3D error messages " <code class="code"> material fx begin called
        before end </code> " and " <code class="code"> material fx SetTechnique called
        before begin </code> ". <br> This only affects people viewing
        output debug strings created by the client.</p></li><li><p>The Direct3D device is now created with <code class="code">
        D3DCREATE_FPU_PRESERVE </code> enabled. <br> This fixes some Python
        time functions that use double precision.</p></li><li><p>Fixed a rendering issue where occasionally the view became
        blurred.</p></li><li><p>Fixed crash that occurred when pressing <code class="code"> Caps Lock+F
        </code> consecutively for two frames.</p></li><li><p>Fixed a crash that occurred when showing the engine statistics
        screen using <code class="code"> CAPS LOCK+F5 </code> after a long time of it not
        being displayed.</p></li><li><p>Full-screen filters now gracefully handle the case where there
        is not enough video memory available after a screen resize, by
        disabling themselves.</p></li><li><p>Fixed a bug that was causing <code class="code"> changeMode </code> to be
        called twice when changing from full-screen to windowed mode. <br>
        Performance of this operation was thus improved.</p></li><li><p>Fixed a video memory resource leak that occurred when changing
        screen resolution.</p></li><li><p>Fixed a timing bug on dual-core CPU's that manifested itself as
        a choppy frame rate.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e6366"></a>5.&nbsp;New Features in Fantasy Demo</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Entities are now automatically loaded from chunk files, and
        their placement can be edited in BigBang. The "Load All" button in
        BWPanel is no longer necessary and has been removed.</p></li><li><p>The game now has multiple spaces (arctic, desert and main).
        Locate the teleport buttons in one of the dungeon rooms to change
        spaces, or type " <code class="code"> /teleport arctic </code> " in the chat
        console. You can also view these spaces using Space Viewer.</p></li><li><p>The character can now be moved using the mouse. <br> Press
        <code class="code"> Z </code> to switch to mouse control mode. In this mode, use
        the right mouse button to move the character, and the left mouse
        button to interact with objects.</p></li><li><p>A main menu has been added to simplify login, and allow
        selecting different servers and usernames without editing the
        bigworld.xml file.</p></li><li><p>Secure trading. Press numeric keypad <code class="code"> + </code> while
        targeting another player to enter trade mode. <br> See "How to
        Implement Items and Trade" for details on Inventory and Secure
        Trading.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e6398"></a>6.&nbsp;Known Bugs &amp; Limitations</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>When using more video memory than available in the graphics
        card, the client can crash the host computer, causing the Blue Screen
        Of Death. <br> To prevent that, decrease the amount of texture
        memory used by the client -- one way to do that is to decrease the
        texture detail level in <code class="code">
        bigworld/res/system/data/texture_detail.xml </code> ).</p></li><li><p>There is a known issue with text rendering on system with Asian
        Language support installed. <br> That happens because BigWorld demo
        generates its fonts map when it is first run, and the <em class="emphasis"> FixedSys </em> font used to render text on the
        consoles maps to different fonts on those machines. <br> To
        alleviate the problem, try using a different font -- in the <code class="code">
        bigworld/res/system/font </code> folder, swap <code class="code"> system_small.font
        </code> with <code class="code"> system_small.font.asian </code> and restart the
        client. This will switch the console into using <em class="emphasis">
        Lucida Console </em> instead of <em class="emphasis"> FixedSys
        </em> , which usually yelds better results on Asian
        Language-enabled systems.</p></li><li><p>Some resources are loaded in the main thread, which might cause
        a frame rate glitch.</p></li><li><p>Occasionally shadows are not cast on certain objects, depending
        on the geometry of the shadow receiver.</p></li><li><p>The limit on the amount of animation data that is streamed in by
        the client at any given time is not working properly.</p></li><li><p>The FlexiCam used for the mouse mode does not perform collision
        detection. <br> As a result it moves through walls, especially in
        indoor chunks.</p></li><li><p>The keyboard shortcut <code class="code"> RIGHT Ctrl+C </code> does not work
        properly. <br> It should disable entity collisions.</p></li><li><p>The bounding boxes of animating objects exported to <code class="code">
        .visual </code> files include only the starting pose, instead of
        encompassing all animations for that visual.</p></li><li><p>On some machines, there are problems rendering alpha-blended
        triangles when also looking at shimmer items--the alpha-blended
        triangles pick up the shimmer as well.</p></li><li><p>On occasions, there is a slight error in the transform
        calculation of actions using the <code class="code"> IsImpacting </code> flag.
        <br> This manifests itself as a slight rotation inaccuracy.</p></li><li><p>Due to the fact that the server sends compressed information for
        volatile position information to the clients, entities closer to the
        player get more detailed information. <br> This can cause
        stationary entities to move as you approach (or retreat from)
        them.</p></li><li><p>On video cards that do not support pixel shader model 2, there
        can be a problem running the client if shadows are enabled in <code class="code">
        bigworld.xml </code> . <br> If you are having problems, please
        disable shadowing in the file, and set the number of shadow casters to
        <code class="code"> 0 </code> .</p></li><li><p>Impacting actions can move the position of an entity without
        considering the collision scene. Therefore, it is possible for an
        impacting action to move an entity inside the collision scene, causing
        the player to become stuck. <br> Care should be taken to avoid
        these situations.</p></li><li><p>Some Python interface properties return copies of their values,
        instead of the actual ones. <br> This can cause confusion when
        modifying part of the copied object, as the value will not be
        modified. <br> For example, the code excerpt below does not affect
        the colour of the spot: <br> <code class="code">
        self.hudTargettingSpots[index].colour[3] = self.lowAlpha
        </code></p></li><li><p><code class="code"> PySceneRenderer </code> may perform poorly on earlier
        video cards. If you experience this problem, then try decreasing the
        number of visual groups that are being rendered into the scene
        renderer.</p></li></ul></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e6511"></a>6.1.&nbsp;FantasyDemo</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>There is no context-sensitive help when riding the
          Ripper.</p></li><li><p>Guns cannot be dropped on the ground. <br> This limitation
          will be removed in future releases.</p></li><li><p>Due to incorrect resource names, particle errors are reported
          when the player respawns.</p></li><li><p>When using the mouse mode, there is no indication of the
          objects and entities that the player can interact with.</p></li><li><p>Pressing <code class="code"> Alt+Tab </code> during FantasyDemo's startup
          causes it to blur the scene.</p></li><li><p>If disconnected from the server while riding the Ripper, the
          player is unable to get off it, and the client does not return to
          the main menu, forcing the user to shutdown the game.</p></li></ul></div></div></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e6538"></a>BigWorld Technology 1.6.4 Client Release Notes</h2></div></div><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e6541"></a>1.&nbsp;Bug Fixes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Ranger (player avatar) now use hardskinned shader for his
        teeth</p></li><li><p>Add mixed vertex processing mode.</p></li></ul></div></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e6551"></a>BigWorld Technology 1.6.3 Client Release Notes</h2></div></div><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e6554"></a>1.&nbsp;Bug Fixes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Optimised chunk loading for teleporting within a very large
        space.</p></li><li><p>Fixed problems that sporadically occurred in calculation of
        navigation mesh.</p></li><li><p>Fixed problem in calculation of average latency.</p></li><li><p>Fixed incorrect primitive and visual names in <code class="code">
        fantasydemo/res/objects/shells/ring/dungeon/dun_highpassage_l.static.visual
        </code> and <code class="code">
        fantasydemo/res/objects/shells/ring/dungeon/dun_highpassage_t.static.visual
        </code> files.</p></li></ul></div></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e6576"></a>BigWorld Technology 1.6.2 Client Release Notes</h2></div></div><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e6579"></a>1.&nbsp;Bug Fixes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>The client now makes sure that the player's model is valid
        before calling a function on it, so that it does not crash on a fast
        PC.</p></li></ul></div></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e6586"></a>BigWorld Technology 1.6.1 Client Release Notes</h2></div></div><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e6589"></a>1.&nbsp;New Features</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>All shaders now support video cards without pixel and vertex
        shader hardware.</p></li><li><p>Terrain Texture Spacing is now configurable. Spacing can be put
        as a <code class="code"> <em class="emphasis"> float </em> </code> in <code class="code">
        resources.xml/environment/terrainTextureSpacing </code> . It can be
        tweaked during runtime via the <code class="code"> render/terrain/texture tile
        factor </code> watcher.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e6611"></a>2.&nbsp;Changed Features</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>All project files updated for DX9 April 2005 release.</p></li><li><p>Projection matrix constant mapping was added.</p></li><li><p>The following changes were made to <code class="code"> .fx </code>
        files:</p><div class="itemizedlist"><ul type="circle"><li><p><code class="code"> colorwriteenable </code> was removed. It is now
            handled externally in the appropriate channels.</p></li><li><p>Predefined blending for standard materials was added for
            easy bulk changing.</p></li><li><p><code class="code"> uvtransform </code> offset for the <code class="code"> uvTransform
            </code> effects was added (it uses the fourth parameter in <code class="code">
            Vector4 </code> ).</p></li><li><p>Flag was added to <code class="code"> lightonly_skinned.fx </code> to
            indicate if object is double-sided.</p></li></ul></div></li><li><p>Sorted shimmer channel was added, so now transparent shimmering
        objects can be drawn.</p></li><li><p>Channel from the last <em class="emphasis"> fx </em> file in a multi-
        <em class="emphasis"> fx </em> file material is used now, so the channel in
        underlying effects can be overridden by the overlaid ones.</p></li><li><p>Since all project files were updated for DX9, classes <code class="code">
        NewVisual </code> and <code class="code"> NewVisualManager </code> had their names
        changed back to <code class="code"> Visual </code> and <code class="code"> VisualManager </code>
        , respectively.</p></li><li><p><code class="code"> FixedFunctionVisualsManager </code> was deprecated. Its
        functionality is now provided by <code class="code"> SuperModel </code>
        class.</p></li><li><p><code class="code"> LODPrimitive </code> class was deprecated. This is
        because it implemented an unsatisfactory solution for level of detail
        handling. Static level of detail is used instead.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e6693"></a>3.&nbsp;Bug Fixes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Build instructions for DX9 April 2005 release were
        updated.</p></li><li><p><code class="code"> PyModelRenderer </code> now also sets alpha channel, so
        textures are correctly applied.</p></li><li><p>Function call in Graphic GUI Component to set a sampler state
        was removed, because D3D was complaining about it.</p></li><li><p><code class="code"> EffectVisualContext::initConstants </code> was changed as
        to not terminate when called without a <code class="code"> renderSet </code>
        .</p></li><li><p>Flag <code class="code"> userDirected </code> now correctly determines if
        entity's yaw and pitch follow direction cursor.</p></li><li><p>Function <code class="code"> py_system(int) </code> was changed to return a
        particle system instead of boolean value.</p></li><li><p>DirectX crash that occurred on certain hardware configurations
        was fixed.</p></li></ul></div></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e6731"></a>BigWorld Technology 1.6 Client Release Notes</h2></div></div><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e6734"></a>1.&nbsp;New Features</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>New DirectX9 shader based 3D engine. Supports industry standard
        .FX files. All tools and exporters have been updated to support this
        new file format. <em class="emphasis"> Important: </em>
        Existing assets will need to be converted or re-exported. See the DX9
        Porting Guide for all the details on this advanced new system.</p></li><li><p>Added new software skinning code to complement the existing
        hardware based system. This allows enhanced materials and more than 17
        bones per visual. It is used when a skinned model is being rendered
        with a non skinned Effect.</p></li><li><p>Can now draw mesh particles with arbitrary materials
        (non-optimal) or 15-at-once with the hard-skinned shader
        (optimal).</p></li><li><p>Added support for readInt64, writeInt64 and asInt64 to
        PyDataSection. Also added asBinary accessor.</p></li><li><p>Added a macro PY_MODULE_FUNCTION_ALIAS for giving a method an
        alias.</p></li><li><p>Maya v6 exporter.</p></li><li><p>New finer control of texture conversions. The new system is
        implemented through the class Moo::TextureDetailLevel and allows you
        to control the size, format conversions and compression of textures
        based on their filenames. The texture manager stores a list of texture
        detail levels and uses them to resize and compress textures based on
        their filenames. The system still allows you to use .texformat files
        as well.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e6762"></a>2.&nbsp;Changed Features</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Can now only call BigWorld.controlEntity on client-side
        entities, since the server explicitly specifies which server-side
        entities a client can control.</p></li><li><p>The THREADLOCAL macro is now consistently used to declare
        variables in thread local storage, so it may be easily redefined if a
        customer has special needs in that area.</p></li><li><p>The sorted triangle pipeline has been optimised.</p></li><li><p>Parent types no longer need to appear before the child in
        entities.xml.</p></li><li><p>Changed stampsPerSecond to return a uint64 instead of an
        unsigned long, to support machines faster than 4.2 GHz.</p></li><li><p>Upgraded to Python 2.4.</p></li><li><p>Better watcher support for bools. They display as true or false
        and can be set the old way or with these strings.</p></li><li><p>Fixed PY_KEYWORD_METHOD_DECLARE so that you can now have script
        methods that accept keyword arguments.</p></li><li><p>Added an enum value for number of message priorities in
        cstdmf/debug</p></li><li><p>openChild in DataSection now returns NULL if an invalid index is
        passed in instead of hitting an assertion.</p></li><li><p>Can pass PyLongs into setData for ints, uints, and
        floats/doubles, also checking if long is too big to be converted (sets
        python error).</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e6799"></a>3.&nbsp;Bug Fixes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Fixed a reference leak in script.cpp.</p></li><li><p>No longer crashes if a .primitives file is missing.</p></li><li><p>Fixed blooming on GeForce 6800.</p></li><li><p>Flora light map calculates at a different time in the main loop,
        this fixes a bug where sometimes when the server changes the time of
        day abruptly the flora light map would be out of sync for 4
        seconds.</p></li><li><p>Fixed culling of GUI components when they are drawn attached to
        a GUIAttachment objects (i.e. drawn in the 3D scene).</p></li><li><p>Fixed problem with the default value for the templatised
        DataSection read functions not being initialised for Vector[234]. This
        showed up in the Python DataSection returning random values when
        calling readVector3 etc. when a vector value was not present.</p></li><li><p>The default constructors for PyVector now initialises its member
        to the zero vector.</p></li><li><p>Fixed crash bug that could occur with invalid XML.</p></li><li><p>In chunk space, added comment about the minGridX ... accessors.
        Also exposed grid bounds of ChunkDirMapping in local
        coordinates.</p></li><li><p>When copying overlappers from adjacent chunks, make sure we
        don't take an overlapper for a chunk we already have. There was quite
        a lot of repetition of overlappers due to this.</p></li><li><p>Fixed constructor of CylinderVectorGenerator to not use
        uninitialised members, which could end up setting the max radius to an
        uninitialised value.</p></li></ul></div></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e6836"></a>BigWorld Technology 1.5 Client Release Notes</h2></div></div><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e6839"></a>1.&nbsp;Driver Issues</h2></div></div></div><p>Make sure you have the latest driver for your video card installed.
    Specifically, if you have an nVidia Geforce series, and are running the
    drivers that came with the card (6.13.10.xxxx) dated 2002, then you will
    experience graphical problems. Try installing the latest drivers.
    Detonator version 6.14.10.53.03, has been tested and confirmed to
    work.</p></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e6844"></a>2.&nbsp;New/Changed Features</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Added debug geometry, which is a helper class. You can throw
        WorldTriangles, Vector3s (lines and triangles), extruded
        WorldTriangles etc. at it. You can also increment the debug marker
        around blocks of debug geometry, and then draw those groups
        individually once the debug geometry is frozen.</p></li><li><p>Moved shared resources to bigworld/res/system/.... This affects
        the client game and the tools.</p></li><li><p>The chunk loader now has priorities. The chunk manager loads
        seed, panic and overlapper chunks with the high priority of 2. Guess
        chunk is even higher priority of 1.</p></li><li><p>Added two full-screen filter effects, Bloom and Heat Shimmer.
        Bloom is calculated automatically using very saturated areas of the
        scene. Heat shimmer is activated via material flags that can be set in
        ModelViewer.</p></li><li><p>Mouse events are now passed through to script, enabling support
        for GUI mouse cursor support.</p></li><li><p>Python resmgr module can now deal with int64 through the asInt64
        attribute.</p></li><li><p>Added C++ accessor for component member in
        ashes/GUIAttachment.</p></li><li><p>No longer checking BW_ROOT and MF_ROOT to set the res path.
        BW_RES_PATH is now the only environment variable used.</p></li><li><p>Custom Mesh can now draw a subset of its vertices, with the
        drawRange method.</p></li><li><p>Can now specify the Default value of PYTHON properties with a
        Python expression.</p></li><li><p>"loadingScreen" entry in bigworld.xml is now deprecated, moved
        into res/resources.xml.</p></li><li><p>Added better support for filtering debug messages</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e6884"></a>3.&nbsp;Bug Fixes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>XMLSection::decodeWideString() now works with decoded strings
        with embedded NULL (previously it would return the portion up to the
        NULL).</p></li><li><p>Now locks all vertex buffers with the right vertex size.</p></li><li><p>Made hard skinned bump mapped vertices work properly on the
        PC.</p></li><li><p>Now outputs the clip space position to clipPos rather than oPos
        in the skinned fogged helper macro.</p></li><li><p>Clouds again block out the sun's lens effects</p></li><li><p>Better font width calculation, this fixes a bug if you try to
        incrementally add widths of strings in order to calculate the layout
        of multi-line text fields.</p></li><li><p>Memory leak fix, Decrefing chunkportal as pyobjects get
        initialised with a refcount of 1.</p></li><li><p>It is now optional to clip outside chunks to the portal they are
        seen through. This behaviour can be toggled via the watcher
        Render/clipOutsideToPortal. This works around a clipping problem that
        will be solved correctly in future using portal aggregation.</p></li><li><p>Workaround for a bug with chunk overlappers, for chunks created
        using build 1.2 and earlier of the world editor. This error is not
        created using more recent builds of BigBang.</p></li><li><p>Memory leak fix, if a leaveEntity message was received while
        loading the prerequisites.</p></li><li><p>Fixed pyModel.zoomExtents(), for when "upperFrontFlushness" is
        true.</p></li><li><p>Optimisation: sky is drawn after the z-buffer is full of opaque
        objects. This saves much fill-rate.</p></li><li><p>Removed the code that fades out objects in the far distance, as
        you could see the interior of objects. Now just letting objects clip
        through the far plane.</p></li><li><p>Statically lit objects are now lit with dynamic lights.</p></li><li><p>Flora is now lit properly by lightning strikes.</p></li><li><p>Flora light map recalculates if the device is reset.</p></li><li><p>Can now open and create files from python in the root of
        res.</p></li><li><p>Text GUI Component uses mip-mapping when not using pixel
        snapping (drawing in the 3D scene).</p></li><li><p>Many fixes to handle missing system resources without crashing,
        for instance fonts, bitmaps, sky dome, etc.</p></li><li><p>TextGUIComponent doesn't crash if py_stringWidth is called and
        the font is invalid.</p></li><li><p>XMLSection::decodeWideString now works with decoded strings with
        0!</p></li></ul></div></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e6951"></a>BigWorld Technology 1.4.1 Client Release Notes</h2></div></div><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e6954"></a>1.&nbsp;Bug Fixes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Fixed problem with streaming off entity construction data sent
        from the server.</p></li><li><p>Python modules can now be loaded from DLLs again.</p></li><li><p>Can now create fonts over multiple lines in a texture.</p></li><li><p>Relative paths in the FilenameResolver work again.</p></li><li><p>The client can no longer attempt to call non-exposed, base
        methods.</p></li></ul></div></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e6973"></a>BigWorld Technology 1.4 Client Release Notes</h2></div></div><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e6976"></a>1.&nbsp;Engine: New Features</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Decals on scene geometry: See BigWorld.addDecalTexture(),
        BigWorld.addDecal() and BigWorld.clearDecals().</p></li><li><p>Character fades out when close to camera.</p></li><li><p>Player created separately to other entities .</p></li><li><p>Prerequisites apply to player (loaded in loading thread).</p></li><li><p>Personality script is called when the D3D Device has been
        recreated.</p></li><li><p>Exposed BigWorld.screenResolution to pythons scripts.</p></li><li><p>Implemented Window clipping on the PC.</p></li><li><p>Massive spaces are now stored in multiple folders, to speed file
        I/O.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e7004"></a>2.&nbsp;Engine: Changed Features</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Flora rendering now uses fixed function pipeline if there is no
        hw vertex shaders.</p></li><li><p>guessChunk() for bootstrapping now done in loading thread</p></li><li><p>NodeClampPSA no longer uses relative positioning by default,
        instead it clamps particles directly to the given node. Set
        "fullyClamp" to false for legacy behaviour.</p></li><li><p>Many ServerMessageHandler interface changes - check each
        one!</p><div class="itemizedlist"><ul type="circle"><li><p>Resource version update flags (oldVersion)</p></li><li><p>Creating player on cell different to creating on
            base,</p></li><li><p>onBecomePlayer() may be called before a player enters the
            world</p></li></ul></div></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e7030"></a>3.&nbsp;Engine: Bug Fixes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Made billboard generation work again.</p></li><li><p>Skinned shaders now normalise their normals before
        lighting.</p></li><li><p>Fogging for character lighting now works.</p></li><li><p>Character lighting uses the correct light colours.</p></li><li><p>Uvtransform shader for skinned objects.</p></li><li><p>Fixed rendering issues with statically lit normal mapped
        objects.</p></li><li><p>Graphics card compatibility issues.</p></li><li><p>Fixed MatrixSwarmPSA shader for None element.</p></li><li><p>In MatrixSwarmPSA, fixed a potential situation causing undefined
        behaviour.</p></li><li><p>Fixed rare potential crash with ChunkDynamicObstacle
        allocation.</p></li><li><p>Sun now rises in the east and sets in the west.</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e7067"></a>4.&nbsp;Known Issues</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Window clipping in the UI supported only for the fixed function
        pipeline (this only applies to the use of MeshGUIAdaptors beneath
        WindowGUIComponents). The rest of the GUI uses the fixed function
        pipeline, and therefore is not affected by this bug.</p></li></ul></div></div></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e7074"></a>BigWorld Technology 1.3 Client Release Notes</h2></div></div><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e7077"></a>1.&nbsp;New Features</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>The client engine now runs on nForce2 (GF4mx), and ATI 8500 and
        better.</p></li><li><p>To make the flora work with video cards that have limited
        texture dimensions, flora.xml now refers to "texture_width" and
        "texture_height" as the dimensions of an individual flora texture, not
        the entire flora texture buffer. The default individual flora texture
        size is 256x128.</p></li><li><p>Particle Systems now use about 45% of the memory that they
        previously used. Because of this, there are a few restrictions on
        their usage:</p><div class="itemizedlist"><ul type="circle"><li><p>there is a limit of 256 on the capacity of any single
            particle system.</p></li><li><p>the maximum age a particle can get is ~6 minutes old.</p></li><li><p>the maximum size of a particle is 100 metres</p></li><li><p>you can no longer use "chained" mode -- which means the
            associated values "cohesion" and "fadeSize" are obsolete
            too.</p></li></ul></div></li><li><p>There is a new particle renderer: BlurParticleRenderer. This
        replaces the "blurred" mode of the standard particle renderer, which
        is now obsolete.</p></li><li><p>There is a new particle renderer: PointSpriteParticleRenderer.
        This is not yet supported by the particle editor, but can be used by
        editing the XML files directly and using the
        "PointSpriteParticleRenderer" tag. Note that pointsprites have a
        maximum on-screen size of 64 pixels, and will not scale up to a larger
        size when viewed from close-up. They have a slightly larger overhead
        than the sprite renderer for small particle systems (less then
        25).</p></li><li><p>Source PSA now has random spin, and min/max spin properties.
        Added delta spin for collisions, so you can drag / add to spin when
        collisions occur.</p></li><li><p>The rendering engine now caches all render states and texture
        stage states, improving performance significantly.</p></li><li><p>The fantasydemo includes a script for printing debug messages
        (res/entities/common/bwdebug.py). It is possible to implement message
        filtering in this module.</p></li><li><p>Automatic resource updates have been addedi (currently in alpha
        state).</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e7121"></a>2.&nbsp;Bug Fixes</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Various optimisations to all libraries.</p></li><li><p>Various python documentation updated and improved.</p></li><li><p>Water now tests correctly for shallow areas so that overhanging
        objects don't cause the water below them to be transparent.</p></li><li><p>Footprints are now oriented correctly.</p></li><li><p>Tools have more error checking for invalid
        configurations.</p></li><li><p>Fixed memory tracking for Python 2.3</p></li><li><p>Client now sends all output to any loggers on the
        network.</p></li><li><p><em class="emphasis"> fantasydemo/res </em> <br>
        bigworld/res now contains all the shaders required by the engine.
        Because of this, all paths.xml files for clients now contain
        /mf/bigworld/res.</p></li><li><p><em class="emphasis"> fantasydemo/res/entities/common/Lib
        </em> <br> The python libraries now exist in this folder
        rather than the fantasydemo/game folder.</p></li><li><p><em class="emphasis"> bigworld/src/client/action_matcher.cpp
        </em> <br> Works with vehicles. Now it only does player-style
        blending compensation when there is some promoted motion happening,
        i.e. someone is playing an impacting action or a
        movement-with-motion-promoted action. No longer promoting motion to
        the entity ourselves, since it was being overwritten by physics or
        filters - i.e. effectively ignored after vehicles. The physics object
        now takes care of promoting motion into entity positions - and if
        there is no physics object then the promotion doesn't happen. This
        should improve playing actions that promote motion (such as impacting
        actions) on non-controlled (e.g. non-player) entities.</p></li><li><p><em class="emphasis">
        bigworld/src/client/connection_control.cpp </em> <br> Calling
        disconnected on the entity manager before we make a new connection,
        even if it didn't previously have a server connection. i.e. called if
        it was connected to nothing ('run offline') or disconnected (no
        entities/player) as well as connected to server.</p></li><li><p><em class="emphasis"> bigworld/src/client/entity.cpp
        </em> <br> Entities can now have prerequisites. Before an
        entity enters the world (but afters its properties are set), the
        'prerequisites' python method is called. This is expected to return a
        sequence of strings. If any of the resources specified by those
        strings are not yet loaded, then the entry of the entity into the
        world is delayed, and a loading order is created to load them. This is
        like a fine-grained preloads mechanism. It is halfway between a
        PyModel which calls you back when it is finished loading, and
        specifying every kind of resource in the preloads. The main drawback
        is that it assumes that the defining characteristics of the entity
        will not change while it is in the world (e.g. the models it uses),
        however it allows lot cleaner code than a background-loading PyModel,
        and is probably what is needed most of the time. The entity's
        prerequisites are kept around by maintaining a reference to each of
        them for as long as the entity is in the world (i.e. not like a
        preload which just leaks refs). Using prerequisites will also reduce
        the preload time of the game, and so I encourage it strongly even
        where preloads would also work.</p></li><li><p><em class="emphasis"> bigworld/src/client/physics.cpp
        </em> <br> Applying promoted motion from action queue in
        avatarStyleTick, since the Action Matcher's application of it to the
        entity's position was ignored when I put vehicles in. This is because
        Physics now operates only on the filter's position, not the entity's
        position. The motion is treated like other motion beyond the control
        of that physics object, just like the motion of vehicles that the
        entity on.</p></li><li><p><em class="emphasis"> bigworld/src/client/script_bigworld.cpp
        </em> <br> Exposes screen width and height to python.</p></li><li><p><em class="emphasis"> src/lib/duplo/chunk_dynamic_obstacle.cpp
        </em> <br> Added nodes and dyes to PyModelObstacles. Nodes
        are just MatrixProviders, you can't attach things to them.</p></li><li><p><em class="emphasis"> src/lib/duplo/meta_particle_system.cpp
        </em> <br> Particle systems made with Pixie.create now gets
        destructed when no python objects reference them.</p></li><li><p><em class="emphasis"> src/lib/duplo/particle_system.cpp
        </em> <br> Exposed the "duration" method to python.</p></li><li><p><em class="emphasis"> src/lib/romp/enviro_minder.cpp
        </em> <br> You can now specify the farPlane in the sky file.
        This can be overidden in the space.settings file. e.g. all swamp
        environment areas can have their far plane set by the swamp_sky.xml,
        yet you may special case one particular swamp area with its own far
        plane in it's particular space.settings</p></li></ul></div></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e7223"></a>3.&nbsp;Known Issues</h2></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Animation exporter doesn't support morph animations.</p></li><li><p>The orientation for isImpacting actions is sometimes
        incorrect.</p></li><li><p>Re-Export required when primitive BSP updated. <br> When
        altering collision and kinds for a material, any model that makes use
        of that material must be re-exported from 3D Studio for the changes to
        come into effect. This is because the changes require the .primitives
        file to be updated, which stores the BSP tree for the model. At
        present, this can only be done via the export mechanism.</p></li><li><p>Sub-optimal usage of vertex buffer for Flora on GF4MX <br>
        Because the previous usage of D3DLOCK_NOOVERWRITE did not work
        correctly on the GF4MX card, it has been changed to not use this flag.
        This causes slower performance, and we are looking into ways to
        improve this.</p></li></ul></div></div></div></div></div></body></html>